<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!--
        Note: the LINK tags are used by advanced browsers.
-->
<head>
<title>
Emacs TinyPGP manual
</title>



<!--    ......................................................................
    META TAGS (FOR SEARCH ENGINES)
    ......................................................................
-->

  <meta http-equiv="keywords"
	CONTENT="Emacs, Emacs Lisp, Pgp,">

  <meta http-equiv="description"
	content="">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Expires" content="Thu,  8 Nov 2007 09:04:09 GMT">



  <meta name="Generator"
	content="2007-09-09 12:04 Perl program t2html.pl v2007.0526 http://perl-text2html.sourceforge.net/">



<!--    ......................................................................
    BUTTON DEFINITION START
    ......................................................................
-->



    <style type="text/css">



        /*

            ///////////////////////////////////////////////////////////
               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE

            This is the default CSS 2.0 generated by the program,
            please see "t2html.pl --help" for option --script-file
            to import your own CSS and Java definitions into the page.

            XHTML note: at page http://www.w3.org/TR/xhtml1/#guidelines
            It is recommended that CSS2 with XHTML use lowercase
            element and attribute names

            This default CSS2 has been validated according to
            http://jigsaw.w3.org/css-validator/validator-uri.html.en

            To design colors, visit:
            http://www.btexact.com/people/rigdence/colours/

               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE
            ///////////////////////////////////////////////////////////

            Comments on the CSS tags:

            -   block-width: "thin" (Netscape ok, MSIE nok)

            NETSCAPE 4.05

            -  In general does not render CSS very well. Eg
               font size changes does not show up in screen.
            -  :hover property is not recognised

            NETSCAPE 4.75 as of 2000-10-01

            -  Shows garbage for stylesheet section that marked CITATION.
               (IE has no trouble to show it)

            MSIE 4.0+

            - Renders CSS very well.

            Media types

            - Netscape does not transfer the CSS element definitions to
              the "print" media as it should. They only affect Browser
              or media "screen"
            - That is why you really have to say EM STRONG ... /STRONG EM
              to get that kind of text seen in printer too. You cannot
              just define P.column7 { ... }

            The @media CSS definition is not supported by Netscape 4.05
            I do not know if MSIE 4.0 supports it.

            So doing this would cause CSS to be ignored completely
            (never mind that CSS says the default CSS applies to "visual",
            which means both print and scree types.)

                @media print, screen {  P.code {..}  }

            To work around that, we separate the definitions with

                P.code { .. }               // For screen

                @media print { P.code      // for printer
                {
                    ..
                }}

            And wish that some newer browser will render it right.

        */

        /*   ///////////////////////////////////////////////// HEADINGS */

        h1.default
        {
            font-family: bold x-large Arial,helvetica,Sans-serif;
            padding-top: 10pt;
        }

        h2.default
        {
            font-family: bold large Arial,Helvetica,Sans-serif;
        }

        h3.default
        {
            font-family: bold medium Arial,Helvetica,Sans-serif;
        }

        h4.default
        {
            font-family: medium Arial,Helvetica,Sans-serif;
        }

        /*   ////////////////////////// Make pointing AHREF more visual */

        body
        {
            font-family: "Times New Roman", serif;
            

            /*
                More readable font, Like Arial in MS Word
                The background color is grey

                font-family: "verdana", sans-serif;
                background-color: #dddddd;
                foreground-color: #000000;

                Traditional "Book" and newspaper font
                font-family: "Times New Roman", serif;
            */
        }

        a:link
        {
            font-style: italic;
        }

        /*   A name=... link references */

        a.name
        {
            font-style: normal;
        }

        a:hover
        {
            color:           purple;
            background:      #AFB;
            text-decoration: none;
        }

            /* cancel above italic in TOC and Navigation buttons */

        a.btn:link
        {
            font-style: normal;
        }

            /* each link in TOC */


        a.toc
        {
            font-family: verdana, sans-serif;
            font-style: normal;
        }

        a.toc:link
        {
            font-style: normal;
        }

            /* [toc] heading button which appears in non-frame html */

        a.btn-toc:link
        {
            font-style: normal;
            font-family: verdana, sans-serif;
            /* font-size:  0.7em; */
        }

        /*  //////////////////////////////////// Format the code sections  */

        /*  MSIE ok, Netscape nok: Indent text to same level to the right  */

        blockquote
        {
            margin-right: 2em;
        }

        @media print   { BLOCKQUOTE
        {
            margin-right: 0;
        }}

        samp.code
        {
            color: Navy;
        }

        hr.special
        {
            width: 50%;
            text-align; left;
        }

        pre
        {
            font-family:   "Courier New", monospace;
            font-size:     0.8em;
            margin-top:    1em;
            margin-bottom: 1em;
        }

        pre.code
        {
            color: Navy;
        }

        p.code, p.code1, p.code2
        {
            /*
               margin-top:     0.4em;
               margin-bottom:  0.4em;
               line-height:    0.9em;
            */

            font-family:    "Courier New", monospace;
            font-size:      0.8em;
            color:          Navy;
        }

        /* //////////////////////// tables /////////////////////////// */

        table
        {
            border: none;
            width: 100%;
            cellpadding: 10px;
            cellspacing: 0px;
        }

        table.basic
        {
                font-family:    "Courier New", monospace;
                color: Navy;
        }

        table.dashed
        {

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                color: Navy;

                border-top:     1px #999999 solid;
                border-left:    1px #999999 solid;
                border-right:   1px #666666 solid;
                border-bottom:  1px #666666 solid;
                border-width:   94%;
                border-style: dashed; /* dotted */


                /* line-height: 105%; */
        }

        table.solid
        {
                font-family:    "Courier New", monospace;
                /* afont-size:      0.8em; */

                color:          Navy;

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                border-top:     1px #CCCCCC solid;
                border-left:    1px #CCCCCC solid; /* 999999 */
                border-right:   1px #666666 solid;
                border-bottom:  1px #666666 solid; /* dark grey */
                /* line-height: 105%; */
        }

        /* Make 3D styled layout by thickening the boton + right. */

        table.shade-3d
        {
                font-family:    "Courier New", monospace;
                font-size:      0.8em;

                color:          #999999; /* Navy; */

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                /* border-top:  1px #999999 solid; */
                /* border-left: 1px #999999 solid; */
                border-right:   4px #666666 solid;
                border-bottom:  3px #666666 solid;
                /* line-height: 105%; */
        }

        .shade-3d-attrib
        {
            /*
                F9EDCC          Light Orange
                FAEFD2          Even lighter Orange

                #FFFFCC         Light yellow, lime

            */

            background: #FFFFCC;
        }

        table tr td pre
        {
                /*  Make PRE tables "airy" */
                margin-top:    1em;
                margin-bottom: 1em;
        }

        table.shade-normal
        {
                font-family:    "Courier New", monospace;
                /* font-size:      0.9em; */
                color:          Navy;
        }

        .shade-normal-attrib
        {
            /*  grey: EAEAEA, F0F0F0 FFFFCC
                lime: F7F7DE CCFFCC
                pinkish: E6F1FD D8E9FB C6DEFA FFEEFF (light ... darker)
                slightly darker than F1F1F1: #EFEFEF;
            */
            background: #F1F1F1;
        }

        table.shade-normal2
        {
                font-family:    "Courier New", monospace;
        }

        .shade-normal2-attrib
        {
            background: #E0E0F0;
        }

        .shade-note-attrib
        {
            /*  darker is #E0E0F0; */
            /* background: #E5ECF3; */
            background: #E5ECF3;
            font-family: Georgia, "New Century Schoolbook",
                         Palatino, Verdana, Helvetica, serif;
            font-size: 0.8em;
        }

        /* ..................................... colors ................. */

        .color-white
        {
            color: Navy;
            background: #FFFFFF;
        }

        .color-fg-navy
        {
            color: navy;
        }

        .color-fg-blue
        {
            color: blue;
        }

        .color-fg-teal
        {
            color: teal;
        }

        /*   Nice combination: teal-dark, beige2 and  beige-dark */

        .color-teal-dark
        {
            color: #96EFF2;
        }

        .color-beige
        {
            color: Navy;
            background: #F7F7DE;
        }

        .color-beige2
        {
            color: Navy;
            background: #FAFACA;
        }

        .color-beige3
        {
            color: Navy;
            background: #F5F5E9;
        }

        .color-beige-dark
        {
            color: Navy;
            background: #CFEFBD;
        }

        .color-pink-dark
        {
            background: #E6F1FD;
        }

        .color-pink-medium
        {
            background: #D8E9FB;
        }

        .color-pink
        {
            /*  grey: EAEAEA, F0F0F0 FFFFCC
                lime: F7F7DE CCFFCC
                pinkish: E6F1FD D8E9FB C6DEFA FFEEFF (light ... darker)
            */
            background: #C6DEFA;
        }

        .color-pink-light
        {
            background: #FFEEFF;
        }

        .color-blue-light
        {
            background: #F0F0FF;
        }

        .color-blue-medium
        {
            background: #4A88BE;
        }

        /* ////////////////////////////////////////////// Format columns */

        p.column3
        {
            color: Green;
        }

        p.column5
        {
            color: #87C0FF;   /* shaded casual blue */
        }

        p.column6
        {
            /* #809F69 is Forest green
               But web safe colors are:
               Lighter  ForestGreen: 66CC00
               ForestGreen: #999966 669900 339900 669966

            color: #669900;
            font-family: "Goudy Old Style"
            */
            margin-left: 3em;
            font-family: Georgia, "New Century Schoolbook",
                         Palatino, Verdana, Arial, Helvetica;
            font-size:  0.9em;
        }

            /* This is so called 3rd heading */

        p.column7
        {
            font-style:  italic;
            font-weight: bold;
        }

        @media print { P.column7
        {
            font-style:  italic;
            font-weight: bold;
        }}

        p.column8
        {

        }

        p.column9
        {
            font-weight: bold;
        }

        p.column10
        {
            padding-top: 0;
        }

        em.quote10
        {
            /*
                #FF00FF Fuchsia;
                #0000FF Blue

                #87C0FF casual blue
                #87CAF0

                #A0FFFF Very light blue

                #809F69 = Forest Green , see /usr/lib/X11/rgb.txt

                background-color:

                color: #80871F ; Orange, short of

                # font-family: "Gill Sans", sans-serif;

                line-height: 0.9em;
                font-style:  italic;
                font-size:   0.8em;

                line-height: 0.9em;
                color: #008080;

                background-color: #F5F5F5;
                #809F69; forest green
                #F5F5F5; Pale grey
                #FFf098; pale green
                ##bfefff; #ffefff; LightBlue1

                background-color: #ffefff;

                .................
                #FFFCE7         Orange very light
                #FFE7BF         Orange dark
                #FFFFBF         Orange limon

             */

             /*
             #  See a nice page at
             #  http://www.cs.helsinki.fi/linux/
             #  http://www.cs.helsinki.fi/include/tktl.css
             #
             #  3-4 of these first fonts have almost identical look
             #  Browser will pick the one that is supported
             */

             font-family: lucida, lucida sans unicode, verdana, arial, "Trebuchet MS", helvetica, sans-serif;
             background-color: #eeeeff;
             font-size:   0.8em;
        }

        @media print { em.quote10
        {
            font-style:  italic;
            line-height: 0.9em;
            font-size:   0.8em;
        }}

        p.column11
        {
            font-family: arial, verdana, helvetica, sans-serif;
            font-size: 0.9em;
            font-style: italic;
            color: Fuchsia;
        }

        /* /////////////////////////////////////////////// Format words */

        em.word
        {
            /* #809F69 Forest green */
            color: #80B06A;  /*Darker Forest green */
        }

        strong.word
        {

        }

        samp.word
        {
            color: #4C9CD4;
            font-weight: bold;
            font-family:    "Courier New", monospace;
            font-size:      0.85em;
        }

        span.super
        {
            /* superscripts */
            color: teal;
            vertical-align: super;
            font-family: Verdana, Arial, sans-serif;
            font-size: 0.8em;
        }

        span.word-ref
        {
            color: teal;
        }

        span.word-big
        {
            color: teal;
            font-size: 1.2em;
        }

        span.word-small
        {
            color: #CC66FF;
            font-family: Verdana, Arial, sans-serif;
            font-size: 0.7em;
        }

        /* /////////////////////////////////////////////// Format other */

        /* 7th column starting with double quote */

        span.quote7
        {
            /* color: Green; */
            /* font-style: italic; */
            font-family: Verdana;
            font-weigh: bold;
            font-size: 1em;
        }

        /* This appears in FRAME version: xxx-toc.html */

        div.toc
        {
            font-size: 0.8em;
        }

        /* This appears in picture: the acption text beneath */

        div.picture
        {
            font-style: italic;
        }

        /* This is the document info footer */

        em.footer
        {
            font-size: 0.9em;
        }

    

    </style>


    <!-- ...................................................... Java code -->

    <script type="text/javascript">

        function MakeVisual(obj)
        {
            obj.style.fontWeight = "italic";
        }

        function MakeNormal(obj)
        {
            obj.style.fontWeight = "normal";
        }

        function IgnoreErrors()
        {
            return true;
        }

        window.onerror = IgnoreErrors;

    </script>

        </head>

<body >
<hr>
               <A name="document_id"  id="document_id"></A>
               <h1>
               1.0 Document id
               
               </h1>



  <a name="description_of_this_document" id="description_of_this_document"></a>
  <h2>
      1.1 Description of this document
      
  </h2>





<p>
<p class="column8">
        Copyright &copy; 1995-2007 Jari Aalto


<p class="column8">
        License: This material may be distributed only subject to
        the terms and conditions set forth in GNU General Public
        License v2 or later; or, at your option, distributed under the
        terms of GNU Free Documentation License version 1.2 or later
        (GNU FDL).


<p class="column8">
        This document is the manual for PGP handling package
        TinyPgp.el, software that runs in Unix Emacs 19.30+/20+;
        XEmacs 19.15+/20+ and WinNT EMacs 20.3+


<p class="column8">
        Emacs version 20+ or XEmacs 20+ is required
        for PGP 5.0 support. This is due to additional package
        expect.el by Lars Magne Ingebrigtsen (Author of Gnus), which
        uses new backquote syntax. The package does not work in older
        Emacs.


<p class="column8">
        For PGP 2.6.x any decent 19.x or higher Emacs version will do.


<p class="column8">
        The mail agents supported are MH, VM, RMAIL and GNUS. In
        addition, there is direct interface to Emacs mime packages
        TM, SEMI and to BBDB email database package.


<p class="column8">
        TinyPgp is intended to be a 2nd generation Emacs PGP interface and
        it supports all major pgp commands from inside emacs. Remailing
        and anonymous account handling in different servers are included.


<p class="column8">
        From this document you'll find the basic instructions and some
        common asnwers to the spcific problems. You still have to read the
        full source code if you want to modify package to your special
        needs. This document doesn't explain <em class="word">all</em> variables used in the
        package one by one, but only discusses the major topics: how you
        use configure package for every day use.



  <a name="latest_news" id="latest_news"></a>
  <h2>
      1.2 Latest news
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          <strong class="word">TinyPgp</strong> project is currently under low priority due to high
          load in my current everyday work projects. There won't be active
          development on-going until the end of 1999. Especially the
          <strong class="word">TM</strong> and <strong class="word">SEMI</strong> PGP/MIME interfaces won't work preperly in the
          current version. (they used to, but SEMI, GNUS etc phased so
          fast forward that I haven't have time to keep up with them)</em>



<p class="column8">
        Releases up to <em class="word">1.307</em> were pgp 2.6.2 only and releass on 2.x tree
        take steps towards PGP 5 and NT Emacs.


<p class="column8">
        Some seldom used functions don't work yet: like pubring generate,
        key generate and some functions are planned, like keys' <em class="word">trust</em>
        parameter handling and complete key handling mode. These are of low
        priority in my list, because I'm first concentrating on a) basic
        PGP b) the remailing and everything else comes after that.



  <a name="just_added_features" id="just_added_features"></a>
  <h2>
      1.3 Just added features
      
  </h2>



<p>
<ul>
	<li>v1.130 Full anon.nymserver.com account support
<li>v1.140 XEmacs20 and 19.15 compatibility
	</li>
<li>v1.160 Added RMAIL/VM/GNUS sumamaries pgp minor mode.
	</li>
<li>v1.180 Added custom.el support and started adding MH.
	</li>
<li>v1.200 Started adding newnym type remailer support.
	</li>
<li>v1.220 VM interface starts maturing
	</li>
<li>v1.230 much better newnym account support (weasel; efga; nym)
	</li>
<li>v1.236 Remailing and Remailer chains are now fully supported.
	</li>
<li>v1.245 Multiple newnym account handling added.
	</li>
<li>v1.250 Secring can be kept in encrypted format (new mode)
	</li>
<li>v1.255 Better TM and GNUS support (gnus auto install)
	</li>
<li>v1.270 Prepared pgp5 support
	</li>
<li>v1.290 Internal changes. Speedup 1.5 - 2x
	</li>
<li>v1.306 TM (mime) auto-install added. Last Beta release
	</li>
<li>v2.7   BBDB <samp class="word">pgp-mail</samp> field support.
	</li>
<li>v2.14  Added &quot;encrypt with additional keys&quot; feature.
	</li>
<li>v2.20  NT support added: First beta for Emacs 19.34.6 in WindowNT
	</li>
<li>v2.21  SEMI 1.0.1+ support added
	</li>
<li>v2.33  PGP 5.x support added: basic commands work in NT.
                   Requires Emacs 19.34 or XEmacs 20.x which supports
                   new backquote syntax.
	</li>
<li>v2.47  PGP 5.x code now somewhat works in Unix.
                   Direct PGP/MIME commands for sign/encrypt added.
	</li>
<li>v2.93  Big PGP 5.x problems remain unresolved. SEMI/TM
                   installation made better, but then SEMI releases
	                   introduced problems.</li>
</ul>





  <a name="overview_of_general_features" id="overview_of_general_features"></a>
  <h2>
      1.4 Overview of general features
      
  </h2>



<p>
<ul>
	<li>Interface to the usual PGP functions, including encryption,
            decryption, signature creation, signature verification, key
            addition, and key extraction
<li>Passphrase cache with configurable timeout
	</li>
<li>An automagic interface to the PGP public key servers
	            through http, ftp or email.</li>
</ul>





  <a name="overview_of_advanced_features" id="overview_of_advanced_features"></a>
  <h2>
      1.5 Overview of advanced features
      
  </h2>



<p>
<ul>
	<li>Extra password protection, PGP 2.6.x doesn't use -z option in Unix
<li>PGP signature showing/hiding in mail/newspost
	</li>
<li>Multiple user identities handling (you can change to user XXX)
	</li>
<li>Multiple pubring management
	</li>
<li>Conventional crypt supported (pgp -c)
	</li>
<li>Signing: base64, Regular.
	<li>'One pass' encrypt and sign command</li>
</ul>



<ul>
	<li>File insert: as base64 signed. You can send and
            receive binary files (tar) as pgp signed.
<li>Individual auto-action: TinyPgp automatically encrypts/signs
            mail to persons that you have defined in auto action list. You
            can define the action directly with lisp variable or by using
            BBDB entry
	</li>
<li>Multiple recipient auto-action: encrypts to CC list automatically.
	            Soon you don't even realize that you use PGP regularly.</li>
</ul>



<ul>
	<li>Minor mode interface for any buffer: allows doing pgp on
	            arbitrary regions</li>
</ul>





  <a name="supported_packages" id="supported_packages"></a>
  <h2>
      1.6 Supported packages
      
  </h2>



<p>
<ul>
	<li>VM/MH/RMAIL/GNUS summary minor mode: in summary buffers the
            pgp commands looks for active message buffer. There is
            also <em class="word">label</em> support in VM/RMAIL.
<li>TM 7.106+ MIME package compatible.
	</li>
<li>SEMI 1.0.1+ MIME package compatible.
	</li>
<li>BBDB support: automatic sign/encrypt/1pass/mime-pgp.
            Define field &quot;pgp-mail&quot;.
	</li>
<li>You can customize all user variables with custom.el
	            M-x customize-group RET TinyPgp RET</li>
</ul>



<ul>
	<li>Auto install feature: for known Mail agent and mime packages
            TinyPgp knows how to configure itself to them without your
	            intervention.</li>
</ul>





  <a name="support_for_anonymous_accounts" id="support_for_anonymous_accounts"></a>
  <h2>
      1.7 Support for anonymous accounts
      
  </h2>



<p>
<ul>
	<li>Direct <em class="word">Nymserver</em> type account support: successor of
            famous anon.penet.fi.
            <a href="http://www.nymserver.com/" >http://www.nymserver.com/</A>                &ndash; service page
<li>Direct <em class="word">Nym</em> type account support: nym.alias.net
            and anon.efga.org
            <a href="http://www.owl.de/" >http://www.owl.de/</A>
	            <a href="http://www.efga.org/" >http://www.efga.org/</A></li>
</ul>





  <a name="preface" id="preface"></a>
  <h2>
      1.8 Preface
      
  </h2>




<p>
<p class="column8">
        TinyPgp offers you an easy PGP handling and supports PGP/MIME
        if Emacs packages SEMI or TM is available.


<p class="column8">
        TinyPgp's approach is to build as easy an interface as possible
        to the PGP world, including remailing and easy anonymous account
        handling. Ideally everything should run almost unnoticed to you.


<p class="column8">
        The emphasised areas are also on easy key management and complex
        pubring handling: that is a way you can prevent your keyring from
        blowing up. It also means that you can control how you want to
        classify your keys (different keyrings for different mailing
        lists). The big pubrings are rumored to be supported by some later
        pgp release, but if you use big pubrings now, pgp gets a tad slow.
        That's why there is currently an emphasis on smaller pubrings. (PGP
        2.6.x mostly, I don't know how PGP 5 performs).

<hr>
               <A name="installation"  id="installation"></A>
               <h1>
               2.0 Installation
               
               </h1>



  <a name="download" id="download"></a>
  <h2>
      2.1 Download
      
  </h2>




<p>
<p class="column8">
        TinyPgp is included in the standard Tiny Tools release under
        emacs-lisp/ directory If there are several in the N.NNN tar
        files in the directory, download only the latest. The TinyPgp
        kit contains all you need for BBDB/TM/SEMI. Just plug it and
        don't worry about the installation.


<p class="column10"><em class="quote10">
          TinyPgp should work right out of the box and automatically
          configure itself to our mail agent you use: RMAIL; VM or GNUS. If
          there is an error when you do <samp class="word">M-x</samp> <samp class="word">load-library</samp> <samp class="word">tinypgp.el</samp>
          for the first time, the message should be clear enough to
          instruct what variables you have to touch. Please check the
          <em class="word">Messages</em> buffer in Emacs and &quot; <em class="word">Message-Log</em>&quot; buffer in XEmacs
          for any notes TinyPgp may have printed to echo area.</em>




  <a name="before_you_install_anything" id="before_you_install_anything"></a>
  <h2>
      2.2 Before you install anything
      
  </h2>




<p>
<p class="column8">
        In order to catch up with bugs fast and reliably, please follow
        these instaructions. Install also two additional packages and read the
        documentation carefully. Detailed instructions are in the start of
        each file.

<ul>
	<li><em class="word">tinymail.el</em> : See to the end of file and copy the example
            setup where the additional X-info field is automatically sent
            to me. I need your tiny tools configuration whenever you speak
            with me. Test that the X-info appears when you write mail to my
            address and you know you have got the packae configured right.
            This saves lot of time and I don't have to guess your setup if
            you're sending a bug report.
<li><em class="word">tinydiff.el</em> : You will be receiving corrections in patch
            format if you report any problem and I correct them. This
            package needs no special installation, you just bind function
            <samp class="word">tdi-patch</samp> to some convenient key. When you receive patch, you
            just call this function and the fix is put in place, you don't
            even have to specify path or patch options, it all happens
            automatically. Alternatively you can use Standard emacs package
            <em class="word">ediff.el</em>.
	</li>
<li><em class="word">tinylisp.el</em> : This will help you to debug all the lisp
            problems with convenient echo-area interface. You will be
	            able to debug lisp fucntions with <em class="word">edebug.el</em> with few commands.</li>
</ul>




<p class="column8">
        If you can't get <em class="word">tinymail.el</em> running and sending me your library
        installation info, please don't install TinyPgp yet. We have to
        solve your problems with that package first.



  <a name="how_to_debug_and_send_good_bug_reports" id="how_to_debug_and_send_good_bug_reports"></a>
  <h2>
      2.3 How to debug and send good bug reports
      
  </h2>




<p>
<p class="column8">
        Always keep emacs debug active:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq debug-on-error t)
      (setq debug-ignored-errors nil)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        When you see weird behavior, immediately do the following.

<ul>
	<li>Make sure you're running uncompiled versions. Do
            <samp class="word">M-x</samp> <samp class="word">load-library</samp> <samp class="word">tinypgp.el</samp> <samp class="word">tinylib.el</samp> if needed
            The compiled libraries' error messages are no use for the
            maintainer, because you can't see the clear call-chain
            and the parameters passed very well from that listing.
<li>Clear debug the situation; C-c / x d c or <samp class="word">M-x</samp>
            <samp class="word">tinypgp-debug-buffer-clear</samp>. Next repeat the task
            you tried to do. If the last command terminates to lisp
            error, you will see <em class="word">Backtrace</em> buffer to appear. It will
            contains lisp function call chain. If there is or is not
            <em class="word">Backtrace</em> buffer but the results are not what you expected,
            stop there and see next bullet.
	</li>
<li>Call the contact function C-c / x d s or <samp class="word">M-x</samp>
            <samp class="word">tinypgp-submit-bug-report</samp> which will copy all relevant
            buffers and data areas that are needed when investiagting
            the problem.
	</li>
<li>Possibly include your mail message or any other buffer's
	            content where the command failed.</li>
</ul>




<p class="column8">
        Please try to describe step by step what you did and how the error
        happened. Explain also what you think happened and what should have
        happened instead (you can take a guess).


<p class="column8">
        If you have also used some customizations that may affect the
        program flow (like added functions and changed hooks), please also
        send the customization file.



  <a name="install_to_emacs" id="install_to_emacs"></a>
  <h2>
      2.4 Install: to emacs
      
  </h2>




<p>
<p class="column8">
        Uncompress and untar the files along you Emacs <samp class="word">load-path</samp>. Put
        following into your ~/.emacs startup file (as instructed in the
        source file)

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (autoload 'tinypgp-mode           &quot;tinypgp&quot; t t)
      (autoload 'tinypgp-install        &quot;tinypgp&quot; t t)
      (autoload 'turn-on-tinypgp-mode   &quot;tinypgp&quot; t t)
      (autoload 'turn-off-tinypgp-mode  &quot;tinypgp&quot; t t)

      (add-hook 'message-mode-hook        'my-tinypgp-mode-on)
      (add-hook 'mail-mode-hook           'my-tinypgp-mode-on)
      (add-hook 'rmail-mode-hook          'my-tinypgp-mode-on)
      (add-hook 'vm-mode-hook             'my-tinypgp-mode-on)
      (add-hook 'gnus-startup-hook        'my-tinypgp-install)
      (add-hook 'gnus-article-edit-mode   'my-tinypgp-mode-on)

      (defun my-tinypgp-mode-on ()
        (require 'tinypgp) (require 'tinylibmenu) (turn-on-tinypgp-mode))

      (defun my-tinypgp-install ()
        (require 'tinypgp) (require 'tinylibmenu) (tinypgp-install))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Put your customizations to separate file and let TinyPgp
        load it automatically.
        (<a href="#using_customization_file_for_package" >Note: custom setup</A>)

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:load-hook
          '(lambda () (require 'rc-tipgp  &quot;~/.emacs.tipgp&quot;)))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Suggested mode binding, &quot;m&quot; prefix for all minor modes. This
        keybinding may already be occupied if you have put something in
        there. In that case, please choose some other free binding.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  Use C-h k to see if you have bound these already

      (global-set-key &quot;\C-cm/&quot;        'tinypgp-mode)

      ;;  Actually, you can forget this, because this mode is not
      ;;  functional yet.

      (global-set-key &quot;\C-cm'&quot;        'tinypgp-key-mode)    </PRE></TD>
    </TR>
</TABLE>



  <a name="install_pgp_win32_binaries_download" id="install_pgp_win32_binaries_download"></a>
  <h2>
      2.5 Install: PGP win32 binaries download
      
  </h2>




<p>
<p class="column8">
        DOS pgp <strong class="word">MS-DOS</strong> binaries are available at following site. Get
        2.6.3i and 5.0i

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      <a href="http://www.pgpi.com/download/" >http://www.pgpi.com/download/</a>    </PRE></TD>
    </TR>
</TABLE>



  <a name="install_pgp_win32_settings" id="install_pgp_win32_settings"></a>
  <h2>
      2.6 Install: PGP win32 settings
      
  </h2>




<p>
<p class="column7"><em><strong>
       2.6.1 Environment variables</strong></em>


<ul>
	<li><em class="word">PATH</em> In order o use PGP in Windows NT, you have to install
            PGP 2.6.x binary and make it available along the PATH.
<li><em class="word">PGPPATH</em> Must point to your keyring location and where the
            config.txt is. The directory must not begin with dot (
            like in Unix ~/.pgp } or you won't be able to to generate keys
	            from dos prompt.</li>
</ul>




<p class="column7"><em><strong>
       2.6.2 Config.txt</strong></em>



<p class="column8">
        Default cmdproxy.exe has restrictions in command line parameter
        passing, therefore no parameters are passed like in Unix. This
        means that you have set following to PGP's <em class="word">config.txt</em>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      armorline=0
      verbose=1
      language=en
      armorlines=0
      charset=noconv    </PRE></TD>
    </TR>
</TABLE>


<p class="column7"><em><strong>
       2.6.3 PGP settings</strong></em>



<p class="column8">
        Make sure there is randseed.bin file at <samp class="word">PGPPATH</samp> or otherwise you
        Emacs locks up completely when you try to encrypt file for the first
        time. In Unix TinyPgp can detect missing randseed.bin, but in NT
        this condition can't be trapped.


<p class="column8">
        You create the <em class="word">randseed.bin</em> for the first time by encrypting
        anything inside Dos Command window.


<p class="column7"><em><strong>
       2.6.4 Emacs variables</strong></em>



<p class="column8">
        Currently <samp class="word">tinypgp-:shell-file-name</samp> must be <em class="word">cmdproxy.exe</em> because I
        don't have Cygwin bash or possibility to test it. The cygwin may
        be supported later.



  <a name="install_pgp_5_x" id="install_pgp_5_x"></a>
  <h2>
      2.7 Install: PGP 5.x
      
  </h2>




<p>
<p class="column8">
        Pgp 5.x is expected to be installed as separate binaries: <em class="word">pgps</em>
        <em class="word">pgpe</em> <em class="word">pgpv</em> <em class="word">pgpk</em>


<p class="column8">
        TinyPgp will automatically find at startup your pgp 2.6.x and
        5.x binaries, so need not to tell what backend you use. The 2.6.x
        interface is selected (because it's more widely supported) if
        both backends are detected at startup.


<p class="column8">
        To change the active backend; use:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / 5     tinypgp-backend-select5
      C-c / 2     tinypgp-backend-select2    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        To make the 5.x permanent, add this command to the custom
        setup file that's beeing loaded via <samp class="word">tinypgp-:load-hook</samp>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (tinypgp-backend-select5)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Note: that PGP 5.x is not fully supported yet: only 2.6.x supports
        all commands in TinyPgp currently.


<p class="column10"><em class="quote10">
          The PGP 5.x+ support is developed on NT platform. Expect that
          it may not work reliably in Unix.</em>





  <a name="install_gnu_privacy_guard_gpg" id="install_gnu_privacy_guard_gpg"></a>
  <h2>
      2.8 Install: Gnu Privacy Guard GPG
      
  </h2>




<p>
<p class="column8">
        #todo:



  <a name="install_gnus" id="install_gnus"></a>
  <h2>
      2.9 Install: GNUS
      
  </h2>




<p>
<p class="column8">
        You shouldn't need anything, the auto installation function takes
        care of updating variables. You're notified if problems arise
        during automatic installation.



  <a name="install_vm" id="install_vm"></a>
  <h2>
      2.10 Install: VM
      
  </h2>




<p>
<p class="column8">
        You shouldn't need anything, the auto installation function takes
        care of updating variables. You're notified if problems arise
        during automatic installation.



  <a name="install_remailers" id="install_remailers"></a>
  <h2>
      2.11 Install: remailers
      
  </h2>




<p>
<p class="column8">
        Before you can use the remailer support, you have to configure
        package to your envinronment. First of all you have to learn what
        the remailers are and how they are used. Don't even think using the
        remailer functions if you haven't read some remailer's instruction
        manual.


<p class="column8">
        Remailer are, hm, very tricky. And sometimes you can get frustrated
        when you send message and you can't see it apper in the newsgroup.
        Don't blame me! Maybe the remailer was down or you didn't construct
        the message right: that's where you need the remailer understanding
        in order to investigate your problems.


<p class="column8">
        Do this when you are ready to try remailing:

<ul>
	<li>Configure the basic variables. (See the source code for
	            description details)</li>
</ul>



<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  The &quot;efga&quot; remailer's help file is similar to to any
      ;;  other remailer's help file.

      (setq tinypgp-:r-newnym-help-file &quot;~/txt/pgp-remail-efga.txt&quot;)
      (setq tinypgp-:r-list-file        &quot;~/txt/remailer-list.txt&quot;)
      (setq tinypgp-:r-user-mail-address &quot;Mr.Foo@xxx.com&quot;)
      (setq tinypgp-:r-post-host        &quot;replay&quot;)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
	<ul>
	<li>Get new remailer list to <samp class="word">tinypgp-:r-list-file</samp>. Keep it up to date.</li>
</ul>



<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
          C-c / . u   tinypgp-r-update-remailer-list    </PRE></TD>
    </TR>
</TABLE>

<ul>
	<li>Test that TinyPgp is now configured for remailers. You normally
            need this command only when you update your remailer list, but
            other times it is called internally: We use it here for testing
	            purposes.</li>
</ul>



<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
          C-c / . i    tinypgp-r-init    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You should see a confirmation message that you're ready to use
        remailing commands.
        (<a href="#feature_description:_remailers" > Note: remailer interface </A> )



  <a name="using_custom_el" id="using_custom_el"></a>
  <h2>
      2.12 Using custom.el
      
  </h2>




<p>
<p class="column8">
        New emacs releases 19.35+ and 20.2+ have brand new custom.el
        package which you can use to change variables in TinyPgp. You now
        have two choices a) traditionally set variables by hand as
        instructed in the rest of the document or b) running command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      M-x load-library      RET tinypgp RET
      M-x customize-package RET TinyPgp RET    </PRE></TD>
    </TR>
</TABLE>



  <a name="using_customization_file_for_package_setup" id="using_customization_file_for_package_setup"></a>
  <h2>
      2.13 Using customization file for package setup
      
  </h2>




<p>
<p class="column8">
        There is always my latest setup file included in the distribution.
        Modify it to your needs. It gives you the whole insight what you
        need to tweak to get TinyPgp running smoothly.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ema-tipgp.ini       ;; remaed, true name is .emacs.tipgp.el    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You can keep your .emacs very clean by adding there only the most
        necessary autoload and load calls to get TinyPgp enabled upon some
        event. When you want to customize the settings, please put the
        variable definitions in separate file and let package load the
        customized settings from that rc file. If you later change the
        settings, you can reload the configuration file only and not your
        whole .emacs startup file.


<p class="column8">
        Add this to your .emacs and the configuration file is loaded, when
        package is called.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:load-hook
        '(lambda () (require 'rc-tipgp &quot;~/.emacs.tipgp&quot;)))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Your ~/.emacs.tipgp.el will look something like this You can even
        byte compile this file to improve loading speed.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;; ~/.emacs.tinypgp.el -- TinyPgp.el package customizations
      ;;
      ;;  Description
      ;;
      ;;      This file is loaded when the TinyPgp.el loads.
      ;;      Your ~/.emacs startup file must contain following statement
      ;;
      ;;          (setq tinypgp-:load-hook
      ;;           '(lambda () (require 'rc-tipgp  &quot;~/.emacs.tipgp&quot;)))
      ;;
      ;;      The Code layout is managed by
      ;;
      ;;          tinybm.el
      ;;          folding.el <a href="ftp://ftp.csd.uu.se/pub/users/andersl/beta/" >ftp://ftp.csd.uu.se/pub/users/andersl/beta/</a>

      ;;{{{ private variables

      ;;}}}
      ;;{{{ remailer variables

      ;;}}}

      (provide 'rc-tipgp)

      ;; End of file    </PRE></TD>
    </TR>
</TABLE>



  <a name="express_customization" id="express_customization"></a>
  <h2>
      2.14 Express customization
      
  </h2>




<p>
<p class="column8">
        This manual won't mention and explain all user variables in the
        package; you should read the source code and see what other
        customizations you might want to do. Variables that are not
        mentioned here are only for real Lisp hackers who want to control
        everytyhing in sight. Eg. the the default function handlers are
        behind <samp class="word">defvar</samp> in case someone feels like coding their own
        implementation.


<p class="column8">
        I should mention about one general function from the <samp class="word">y</samp> library
        which helps you to extract documentation from any lisp package.
        Load any lisp package with <samp class="word">M-x</samp> <samp class="word">load-file</samp> and call following
        function and print the output to printer. Read the generated
        documentation in peace at home with nice cup of coffee near you...

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinyliby.el / ti::y-get-file-documentation    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        After that, you know absolutely everything about TinyPgp's
        variables and functions.


<p class="column8">
        If you feel that some function's description is not clear, please
        drop me a mail. There are no plans for separate info files; that's
        why I try to keep the function descriptions as good as possible.



  <a name="cooperating_with_bbdb" id="cooperating_with_bbdb"></a>
  <h2>
      2.15 Co-operating with BBDB
      
  </h2>




<p>
<p class="column8">
        Installation to bbdb happens automatically when bbdb is detected in
        Emacs. You can define these BBDB fields that are used by TinyPgp:

<ul>
	<li><em class="word">pgp-mail</em>, which takes values: <strong class="word">sign</strong> <strong class="word">encrypt</strong> <strong class="word">mime</strong> and
            <strong class="word">1pass</strong>. They tell that each mail to this recipient must be
            send as PGP mail. See section &quot;Automating message signing and
            encrypting&quot;.
            <a href="#automating_message_signing_and_encrypting" >(Note: signing)</A>
<li><em class="word">pgp-id</em>, which takes any ID that is recognised by PGP as
            uwsers identification. It is common that people have many email
            addresses and that pgp key does not cotain all the email
            addresses. Thus you usually define this field for persons whose
            email address does not show up in PGP KEY. Set it to email
            address found from PGP KEY or to Hex id 0xHHHHHHHH. See section
            &quot;Someone's email address is not listed in his key-id?&quot;
	            <a href="#someones_email_address_is_not" >(Note: substitution)</A></li>
</ul>



<hr>
               <A name="about_security"  id="about_security"></A>
               <h1>
               3.0 About security
               
               </h1>



  <a name="pass_phrases" id="pass_phrases"></a>
  <h2>
      3.1 Pass phrases
      
  </h2>




<p>
<p class="column8">
        First of all, don't leave your emacs while you're running any Pgp
        software. The pass phrases are usually cached and any decent lisp
        expert can dig them within less than 1 minute. The caching is used
        by Mailcrypt and Tinygp to make life easier.


<p class="column8">
        You can adjust the forget time so that it is comfortable to you:
        the time is a balance between how often you care to type pass
        phrases (convenience) and how strict security you want (pass phrase
        protection)


<p class="column8">
        Set this variable to the number of seconds the pass phrases are kept
        in cache before they are expired. This also deletes all files that
        were used when when communicating with Pgp. (Well, after every
        successful)

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:password-remember-time    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If you have to leave your emacs for a while, please call this
        function to wipe all pass phrase information immediately. This a
        bit different from the automatic expiration that you set above:
        This command will alse kill the secring crypt password, which
        isn't reset by the automatic expiration.
        <a href="#mode:_encrypted_secring" > (Note: secring encrypt mode)</A>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-password-expire-now     [bound to C-c / x x ]    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        After calling the command no-one can access find your pass phrase
        information from cache. (Well, we don't dwell into memory snooping
        and Emacs garbage collection that still may have copy of your pass
        phrase.)



  <a name="locking_your_emacs" id="locking_your_emacs"></a>
  <h2>
      3.2 Locking your Emacs
      
  </h2>




<p>
<p class="column8">
        In the Tiny Tools distribution you'll find package <em class="word">tinylock.el</em>
        which prevents accessing your emacs and protects your pgp identity.

<ul>
	<li>It has auto lock feature: Emacs is locked if there is no activity
            for some adjustable time. This is handy if you have to leave
            somewhere quickly and forget to leave your emacs open.
<li>If you know you are leaving now, like finishing your daily
            work, call <samp class="word">M-x</samp> <samp class="word">til-lock</samp> to lock your emacs. You can resume
	            when you return next morning.</li>
</ul>




<p class="column8">
        When emacs is locked, there is no way to unlock it without the right
        password. If you forget the password, you have to kill
        emacs. (Fortunately all files are automatically saved before
        locking is engaged, so you don't lose anything)



  <a name="special_password_protection" id="special_password_protection"></a>
  <h2>
      3.3 Special password protection
      
  </h2>




<p>
<p class="column8">
        Some PGP front-ends may have serious security leak in multiuser
        (Unix) environments, if they call Pgp with option -z which passes
        the pass phrase to it.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      %  cat file | pgp -satf -z 'test me' -u test    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        To grab this pass phrase, 'test me', can be done by anyone who know
        how to write C-program to access all command line options found
        from ps(1) listing. All they have to do is to find &quot;-z&quot; somewhere
        in the started process environment cmd flags that's it: you're
        busted and your security is gone.


<p class="column8">
        TinyPgp does not have this security leak because it doesn't use
        the -z option by default. The alternative way is presented in
        pgp.faq where Patrick J. LoPresti advises to use &quot;...funky shell
        redirection to make PGP pgp get the pass phrase from an
        arbitrary file. &quot;. The suggested PGPPASSFD is used here so that
        you get maximum security when communicating with Pgp.


<p class="column8">
        Repeat: no one can see the pass phrase by looking ps(1) listing if
        you use TinyPgp in Unix with following variable set to non-nil

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:password-protection    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If your operating system doesn't support PGPPASSFD file descriptor
        (maybe DOS or windows), then you must set this variable to nil and
        hope that no one catches the PGP command line. Using nil return
        TinyPgp to normal &quot;-z&quot; option usage.



  <a name="temporary_files_used" id="temporary_files_used"></a>
  <h2>
      3.4 Temporary files used
      
  </h2>




<p>
<p class="column8">
        TinyPgp communicates with Pgp over several files. This is a design
        decision and it can't be changed. Some Pgp implementations try to
        use pipes as much as possible, but because current Pgp is not
        designed to work like Unix pipes, I chose the file approach. There
        are some benefits of this:

<ul>
	<li>files are easily managed
	<li>files are easily debugged, when TinyPgp fails to work correctly</li>
</ul>




<p class="column8">
        But it also means that the files can be snooped by super
        user. Normally you should be safe because the file permissions used
        by TinyPgp are very strict and files used are immediately removed
        when they are no longer needed, Monitoring your files is a bit
        difficult. Bear in mind that your secring.pgp can also read by
        super user (disks are also backup'd regularly to tapes for a ong
        time)

<hr>
               <A name="feature_description_pgp"  id="feature_description_pgp"></A>
               <h1>
               4.0 Feature description: PGP
               
               </h1>



  <a name="modeline_indicators" id="modeline_indicators"></a>
  <h2>
      4.1 Modeline indicators
      
  </h2>




<p>
<p class="column8">
        Most of the actions are displayed in the modeline so that you keep
        up with the current state of the package. The modeline is updated
        dynamically by a separate modeline process and the modeline format
        is following. <samp class="word">MODE-NAME</samp> is <samp class="word">pgp</samp> or <samp class="word">pgp5</samp> depending which
        backend is in use.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      MODE-NAME + pubring + modifiers    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        pubring is a string you define as 3rd parameter in
        <samp class="word">tinypgp-:pubring-table</samp>. Recommend values are:

<ul>
	<li>&quot;-&quot; Default pubring in use
<li>&quot;=&quot; Secondary pubring
	</li>
<li>&quot;*&quot; Special, whole keyserver pubring.
	</li>
<li>&quot;#&quot; Temporary, scratch keyring
	<li>&quot;:&quot; mailing list, or subject area A, keyring</li>
</ul>




<p class="column8">
        modifiers can be:

<ul>
	<li><strong class="word">c</strong> secring (c)rypt mode is on
                (<a href="#mode:_encrypted_secrin" > Note: secring crypt mode</A>)
<li><strong class="word">r</strong> Remailer action in progress
	</li>
<li><strong class="word">e</strong> email substitution function is active.
                <em class="word">E</em> will be displayed if it is certain that To field's
                content will be converted.
                (<a href="#mode:_email_substitution" > Note: email substitution</A>)
	</li>
<li><strong class="word">h</strong> Selected (h)eaders are included in signing.
                (<a href="#signing:_headers" > Note: signing headers</A>)
	</li>
<li><strong class="word">A</strong> auto signing mode is active and auto sign <strong class="word">will</strong> happen
                If you see little <em class="word">a</em> then auto sign mode is active,
                but auto sign will not happen.
                (<a href="#mode:_auto_signing,_more_finer" > Note: Sign Control</A>)
	</li>
<li><strong class="word">N</strong> Default (N)ewnym server/account is active. Notice that this
                character may be anything that user has defined.
                (<a href="#newnym_default_server_and_account" >Note: default newnym</A>)
	</li>
<li><strong class="word">!</strong> auto action is about to take effect when you send this mail
                if this reads <em class="word">!-</em> then user has manually cancelled the auto
                action for current message.
                (<a href="#automating_message_signing" > Note: auto action</A>)
	</li>
<li><strong class="word">$</strong> auto encrypt action for multiple recipients. This is
                anolog to <em class="word">!</em> indidicator.
	</li>
<li><strong class="word">k</strong> key for this user is previously used and it is in the cache.
	                This telqls that you can decrypt to person without problems.</li>
</ul>





  <a name="label_indicators" id="label_indicators"></a>
  <h2>
      4.2 Label indicators
      
  </h2>




<p>
<p class="column8">
        In addition to modeline (minor mode description string explained
        above), TinyPgp also uses labelling features of your mail agent.
        Currently the supported mail agents are VM and RMAIL. The labeling
        works this way: when you call pgp command over message, the correct
        label is attached to it. Eg. if you received PGP signed message
        and you hit C-c / v to verify it, the label added would be

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp,v+      Verify ok
      pgp,v-      Verify failed    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Another example: if you receive 'One pass encrypted and signed'
        message, that differs from separtely encrypted and signed message.
        You see the diffence from the label order.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp,d,v+    was: 'One pass' encrypted and signed
      pgp,v+,d    was: encrypted message that was separately signed.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Respectively there are labels for signing, encrypting. The
        predefined labels are in the following variable, which you can
        modify if you want to use some other labels than the defaults.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:label-table    </PRE></TD>
    </TR>
</TABLE>



  <a name="automating_message_signing_and_encrypting" id="automating_message_signing_and_encrypting"></a>
  <h2>
      4.3 Automating message signing and encrypting
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          Note: If you use BBDB, I recommend using the bbdb auto action,
          because it's much more simpler for regular user. The advantage
          of <samp class="word">tinypgp-:auto-action-table</samp> is that you can use arbitrary lisp
          expression for <samp class="word">eval-or-regexp</samp>.</em>



<p class="column8">
        It's quite handy to have all kinds of pgp commands, but you soon
        get tired of typing &quot;sign this, sign that, oh well I forgot that
        you preferred encrypted mail...&quot;. TinyPgp can automatically do the
        signing and encrypting for you if you just give it command table
        that is explained in full in the variable description.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;; EVAL-OR-REGEXP  SIGN-FLAG [ENCRYPT] [MIME] [XPGP] [KEYRING])
      tinypgp-:auto-action-table    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The function that parses the table, <samp class="word">tinypgp-auto-action</samp>, is installed
        to the mail send hook and watches the TO field's email address;
        it signs and decrypts the outgoing mail whenever needed. (This
        feature is very powerful, see the variable documentation for more
        finer details)


<p class="column8">
        You can also send PGP/MIME messages if you define <samp class="word">MIME</samp> flag.


<p class="column8">
        The automatic pgp is only active if you haven't done any &quot;manual&quot;
        pgp in the sending buffer. Ie. if you want ot compose manual pgp
        message to person foo@site.com, which normally would trigger auto
        action entry, you can do that. The added pgp in the buffers
        bypasses the defined action.


<p class="column8">
        The mode line indicator &quot;!&quot; tells you if this buffer is going to
        trigger an auto action. You can manually defeat the action by
        calling

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / m !   tinypgp-auto-action-toggle    </PRE></TD>
    </TR>
</TABLE>


<p class="column10"><em class="quote10">
          <strong class="word">Note:</strong> Do not use <samp class="word">tinypgp-:auto-action-table</samp> for auto signing
          for every mail. The following entry is not recommended. You can
          have more finer autosigning control with variables presented in
          next section.</em>


<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  This will match any mail and sign it. DO NOT DO THIS
      (setq tinypgp-:auto-action-table
        '((&quot;.&quot; nil t)))    </PRE></TD>
    </TR>
</TABLE>


<p class="column7"><em><strong>
       4.3.1 BBDB support for auto action</strong></em>



<p class="column8">
        BBDB is a Big brother database where you can store information
        about sender of the message. To use auto action, you add
        following field to the bbdb record of the user:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp-mail:    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The values that you can add there are explained in the C-h v
        <samp class="word">tinypgp-:bbdb-field</samp>. Below you see some examples.


<p class="column10"><em class="quote10">
          <strong class="word">Note</strong>: The lisp way <samp class="word">tinypgp-:auto-action-table</samp> overrides any
          definition in bbdb record.</em>


<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp-mail: sign                ;; Sign by pgp user
      pgp-mail: sign mime           ;; PGP/MIME sign
      pgp-mail: encrypt
      pgp-mail: encypt-replay       ;; Encrypt by using &quot;replay&quot; key
      pgp-mail: 1pass               ;; 1pass encrypt and sign    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The <em class="word">1pass</em> Encrypt and sign feature is the one you should prefer
        to added security. It means that when message is encrypted with
        user's key, it is signed with your key simultaneously. That way
        user can varify the origonal sender of the message reliably.


<p class="column8">
        <strong class="word">Note</strong>: To use 1pass method, <em class="word">both</em> you key and recipients keys
        must be stored to the <em class="word">same</em> keyring. The keyring used for this
        purpose is the first one accuring in the backend's keyring
        stored to <samp class="word">tinypgp-:pubring-table</samp>.


<p class="column7"><em><strong>
       4.3.2 Encrypting to self</strong></em>



<p class="column8">
        If you send encrypted messages and you want Bcc copy of the message
        to yourself you must encrypt the message with your key too to
        be able to read it later. To add more encrypt keys, you would
        use following setup

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:encrypt-with-function  'my-tinypgp-encrypt-with)
      (defun my-tinypgp-encrypt-with ()  (list tinypgp-:user-primary))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The function will return an additional key, <samp class="word">tinypgp-:user-primary</samp>,
        which shuld be pointing to your primary PGP key-id, which is used
        along with keys fround from the To and CC fields.



  <a name="automating_bulk_message_encrypting" id="automating_bulk_message_encrypting"></a>
  <h2>
      4.4 Automating bulk message encrypting
      
  </h2>




<p>
<p class="column8">
        If you send message to several people and you know that each one
        have Pgp, then you can use this variable to control automatic
        message encyption when sending CC'd mail.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  I want auto action to encypt mail when I CC to these people
      ;;  Define my variable

      (setq my-:tinypgp-all-re
          (concat
           &quot;foo@\\|bar@\\|Mr.Doodle@&quot;
           ...
           )

      ;;  Now turn on encryption when CC'ing these people

      (setq tinypgp-:auto-action-encrypt-regexp my-:tinypgp-all-re)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The catch is that the regexp must match <strong class="word">every</strong> people in the To
        and CC list in order to encryption to take place. If there is
        address that is not included in this regexp, the encryption is not
        engaged. You must know addresses of people that do use Pgp and whom
        are capable of receiving pgp encrypted messages.


<p class="column8">
        Once more, you know that Foo and Bar have Pgp: the following
        message will be encrypted. The modeline will show indicator <em class="word">$</em>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:auto-action-encrypt-regexp &quot;Foo@\\|Bar@&quot;)

      To: Foo@site.com
      CC: Bar@site.com
      --text follows this line--
      MESSAGE-BODY    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        This time you're CC'ing to three people; where Quux doesn't have
        Pgp. Since Quux is not included in the variable, this message will
        not be encrypted.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:auto-action-encrypt-regexp &quot;Foo@\\|Bar@&quot;)

      To: Foo@site.com
      CC: Bar@site.com, quux@site.com
      --text follows this line--
      MESSAGE-BODY    </PRE></TD>
    </TR>
</TABLE>



  <a name="signing_headers" id="signing_headers"></a>
  <h2>
      4.5 Signing: headers
      
  </h2>




<p>
<p class="column8">
        Merely signing your message body is not usually enough, because
        someone may go and change the <em class="word">Subject</em>. And you can't do anything
        to prevent someone from changing your other headers as well, like
        substituting a false <em class="word">Reply-To</em> address, so that the attacker would
        get the reply. In regular pgp signing the header must be physically
        inserted into the body.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Subject: Tiger crawls
      Date: Sun, 3 Nov 1996 17:50:22 +0200
      Reply-To: foo@site.com
      --text follows this line--
      -----BEGIN PGP SIGNED MESSAGE-----

      ##
      Reply-To: foo@site.com
      Subject: Tiger crawls

      BODY-OF-MESSAGE-IN-SMF

      -----BEGIN PGP SIGNATURE-----
      Version: 2.6.3ia
      Charset: noconv

      iQBVAwUBMbW4lMC67dVHFB01AQHB6wH9EV5vJ/hBCUqBGJc5470cu6
      QinJdFrRtd/Mm1hkGqqU8FIgQPK/trviQyti2UQCrnUosYSJdRaCFw==
      =/Deu
      -----END PGP SIGNATURE-----    </PRE></TD>
    </TR>
</TABLE>



  <a name="signing_what_headers_to_sign" id="signing_what_headers_to_sign"></a>
  <h2>
      4.6 Signing: What headers to sign.
      
  </h2>




<p>
<p class="column8">
        It is very important that you carefully choose what headers are
        signed. Do not just add bunch of headers, because you must consider
        if the receiving end gets the same headers <em class="word">unmodified</em>. If the
        heders' values have been changed during the transit in network, the
        receiving end can't verify the message, because those headers don't
        have the original text any more.


<p class="column8">
        The thumb rule: Sign as few headers as possibly, so that the
        signing count keeps small and the chance of modified headers is
        minimal. The purpose of signing headers is that it protects the key
        headers from tampering; those which are crucial to your message.


<p class="column8">
        You can sign any headers as you like, but please consider these
        recommendations carefully.


<p class="column7"><em><strong>
       4.6.1 Do not sign:</strong></em>


<ul>
	<li><strong class="word">From</strong>. This field's email address will most likely
            be modified.
<li>CC, BCC, FCC. The CC email addresses may be changed and
            the BCC/FCC fields are not distributed.
	</li>
<li><strong class="word">To</strong>. When receiving ends sees the message, there is no
            <em class="word">To</em> field. It is usually seen as <em class="word">From</em> field, but that's
	            not necessarily so. Do not ever sign <em class="word">To</em> field.</li>
</ul>




<p class="column7"><em><strong>
       4.6.2 You can sign these:</strong></em>


<ul>
	<li><strong class="word">Reply-to</strong>. This is your assurance that person can safely send
            message back to the right address. Experiment with this header
            and see if you can sign it. It is known that CompuServe, AOL,
            X.500, FidoNet, and NetWare changes this field and invalidates
	            you signature if you sign it.
<P>


            If you have subsribed to some mailing lists, then pay
            close attention to your sent/appeared mail messages in the
            list. It is very common that the listserver changes the
	            this field.</li>
</ul>



<ul>
	<li><strong class="word">Message-Id</strong>. If you cvreate your own message id's with address
	            and time information, this could be among the signed headers.</li>
</ul>



<ul>
	<li><strong class="word">Subject</strong>. You don't want your message's topic changed.
            <em class="word">Note</em>: some list softwares touch the subject and add a list
	            identification, so it is not always goo to sign Subject.</li>
</ul>




<p class="column7"><em><strong>
       4.6.3 Optionally sign these:</strong></em>


<ul>
	<li><strong class="word">Date</strong>. The time of your message isn't really that important:
            whether the time refers to 1992 or 2000.  The text what you
	            <strong class="word">said</strong> is important, not when you said it.
<P>


            Furthermore (a) PGP time stamps it's signatures &quot;signature
            made 37 March 551 B.C.&quot; and (b) you really can't prove time
            stamps anyway &ndash; you can set the system clock forward or
            backward before generating a time stamped signature or signing
	            a time stamp.</li>
</ul>



<ul>
	<li><strong class="word">Newsgroups</strong>. Signing newsgroup names says, that you
            had sent at least to these newsgroups, but it doesn't
	            prove that you haven't sent to other newsgroups too.</li>
</ul>




<p class="column7"><em><strong>
       4.6.4 Related varibales</strong></em>



<p class="column8">
        TinyPgp has the following variable where you can add those headers
        names that you wish to sign. The default recommended value signs
        headers {reply-to,subject}. Remember, that the goal is to sign as
        few headers as possible. Choose only headers that truly need
        signing and don't just add items that are not important in the
        message point of view.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
       tinypgp-:header-sign-table    </PRE></TD>
    </TR>
</TABLE>



  <a name="signing_header_signing_control" id="signing_header_signing_control"></a>
  <h2>
      4.7 Signing: header signing control
      
  </h2>




<p>
<p class="column8">
        While signing headers is a good idea, you should be very careful
        that your message's headers aren't modified. There is a known
        problem in the mailing lists which often rewrite, replace or even
        remove headers you may have added to the message.


<p class="column8">
        There is variables in the package, that control these special
        cases. They all rely on the regexp matching the <em class="word">To</em> address. You
        can select criteria what headers are signed by modifying this
        variable.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:header-sign-table
        '((&quot;@&quot; (&quot;subject&quot; &quot;reply-to&quot; ))
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The default entry in this variable says that we sign 2 headers for
        every To address that has @ character. This is the basic case. If
        you know that some other address for example modifies Reply-To,
        then you should add another entry

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:header-sign-table
        '(
          (&quot;some-mailing-list@&quot; (&quot;subject&quot;))
          (&quot;@&quot;                  (&quot;subject&quot; &quot;reply-to&quot; ))
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Remember that you put the restrictive regexps first in the list.
        The first one that matches is selected when comparing with <em class="word">To</em>
        address.



  <a name="about_passing_prefix_argument_to_commands" id="about_passing_prefix_argument_to_commands"></a>
  <h2>
      4.8 About passing prefix argument to commands
      
  </h2>




<p>
<p class="column8">
        You give prefix argument to commands by pressing <samp class="word">C-u</samp> or <samp class="word">M-x</samp> <samp class="word">0</samp>
        before you call the actual command hot key. The prefix argument
        usually means &quot;do not replace content with pgp output, instead
        store the output to register.&quot; For example, to decrypt the current
        buffer so that the buffer content is not replaced, you would use:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-u C-c / d    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The results are stored to <samp class="word">tinypgp-:register</samp> (use C-c / R to display
        it) and the buffer content is not changed. The decrypt command also
        asks if you'd like to see content right away in temporary
        buffer. This is desirable in mail buffers, where you want to keep
        the incoming mail in encrypted format, but you just want to read
        the content of the message.


<p class="column8">
        When you are finished viewing, kill the buffer so that no traces
        are left in your emacs about the opened message.



  <a name="decrypting_and_prefix_arg" id="decrypting_and_prefix_arg"></a>
  <h2>
      4.9 Decrypting and prefix arg
      
  </h2>




<p>
<p class="column8">
        The decrypting of message has a feature where you can reverse the
        meaning of the usual prefix arg. Normally when you do

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / d    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        that would replace encypted content with clear text, but it gets
        tedious if you always have to hit <samp class="word">C-u</samp>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-u C-c / d    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        to see the incoming encrypted mail in separate preview buffer. If
        you prefer having all decryption viewed in separate buffer, you set
        following variable to <samp class="word">non-nil</samp>

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:decrypt-arg-interpretation 'preview)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Note: this affects only read-only buffer, so if you're in normal
        buffer, the prefix arg works as usual and the
        <samp class="word">tinypgp-:decrypt-arg-interpretation</samp> is ignored. Suppose the
        variable is now <samp class="word">non-nil</samp>, look what happens.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      read-only buffer:  C-c / d  --&gt; preview
      writable  buffer:  C-c / d  --&gt; replace buffer content    </PRE></TD>
    </TR>
</TABLE>



  <a name="decrypting_and_active_user" id="decrypting_and_active_user"></a>
  <h2>
      4.10 Decrypting and active user
      
  </h2>




<p>
<p class="column8">
        When you decrypt a message, your active user setting determines who
        you're when PGP is called. If you only have one PGP key, then you
        set your identity once and use that for all decrypting.
        (<a href="#pubring_and_user_control" >Note: User control</A>) But if you have
        distributed several PGP keys; then you have to change to the owner
        of that PGP key before you can decrypt a message.


<p class="column8">
        Normally you <em class="word">don't</em> distribute many keys publically: you
        announce <em class="word">one</em> key which your friends use and with what
        they encrypt messages to you. The other keys you may generate
        are normally distributed to hosts that send mail back to you
        in ecrypted format. Eg. if you have ordered account from Nymserver
        (<a href="#nymserver_type_account" >Note: Nymserver account</A>) or
        from <em class="word">Newnym</em> type server
        (<a href="#newnym_type_account_handling" >Newnym account</A>)

<ul>
	<li>you have create new PGP key for Nymserver or Newnym and sent it
            there.
<li>Server forwards mail addressed to your anon account, to your
	            real address: encrypted with this key.</li>
</ul>




<p class="column8">
        Now, when you receive mail, you have to be user <em class="word">XXX</em> before
        you encrypt the message.


<p class="column8">
        It is possible to have this user change automatic, based on the
        key-id(hex) that can be found from the encrypted PGP ascii armor.
        Since you know you what keys you have and their key-ids(hex), you
        simply have to be user XXX to when encrypting mail that was
        encrypted by XXX key-id.


<p class="column8">
        There is variable

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;; Format:  '((KEY-HEX-ID KEY-ID) (K-H-I K-I) ...)
      tinypgp-:user-identity-table    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Which is consulted every time you call

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / d     tinypgp-decrypt-mail    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If the found key-id(from ascii armor) is found from table's <em class="word">K-H-I</em>
        slot, then the program swithes to user given in <em class="word">K-I</em>.  The <em class="word">K-I</em>
        is usually some more representative string key-id which is more
        human understandable that the raw hex id. It is used when you're
        prompted to give pass phrase. Here is example how you would set the
        table.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:user-identity-table
        '(
          ;;  My known public keyid firsname.surname@site.com
          (&quot;12345670&quot;  &quot;firsname.surname&quot;)

          ;;  If I receive pgp message from nymserver, then use my
          ;;  nymserver user id

          (&quot;12345678&quot;  &quot;an12345@anon.nymserver&quot;)
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Now, every time you receive encrypted mail, the program knows
        automatically which active user it should choose when you decrypt
        message with C-c / d.



  <a name="hiding_the_regular_pgp_signature_automatically" id="hiding_the_regular_pgp_signature_automatically"></a>
  <h2>
      4.11 Hiding the regular pgp signature automatically
      
  </h2>




<p>
<p class="column8">
        From TinyPgp, whenever you now look at email messages, the possible
        pgp signature is automatically hidden. If you use some other Emacs
        mail reader/news reader, you can add <samp class="word">tinypgp-hide</samp> function to to
        the appropriate hooks. Currently following hooks are used.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      rmail-show-message-hook
      vm-display-buffer-hook
      gnus-article-mode-hook    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Verifying works normally although the signature is hidden. To
        manually show si(g)nature, call this function

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / g tinypgp-hide-show-toggle    </PRE></TD>
    </TR>
</TABLE>



  <a name="keyserver_various_ways_to_get_pgp_public_keys" id="keyserver_various_ways_to_get_pgp_public_keys"></a>
  <h2>
      4.12 Keyserver: various ways to get PGP public keys
      
  </h2>




<p>
<p class="column8">
        There are several methods in the program how you can request a
        public key if you don't have it already. The design guideline of
        the program was that no keys are fetched without person first
        asking for it. So, if you want to send someone encrypted mail (you
        should if they use pgp), then there are three basic ways to get the
        public key.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / F    tinypgp-key-find-by-finger
      C-c / K    tinypgp-key-find-by-http-keyserver
      C-c / E    tinypgp-key-find-by-email

      This is a bit special, it checks Cache, then Keyrings and
      finger, and finally http:

      C-c / G    tinypgp-find-by-guess    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The key servers are the most reliable way to find a key, but they
        may be so loaded that getting a key may takes several minutes. I
        usually start by finger a person and only if it fails, I call the
        key server. If the person doesn't have key in his ~/.plan file, I
        usually mention about that in the message to him.


<p class="column8">
        The email interface is almost the same as key server fetching, but
        as the name says, the key is requested via email and is only
        available to you when you get mail back.



  <a name="keyserver_uploading_your_key_or_send_key_revoke_certificate" id="keyserver_uploading_your_key_or_send_key_revoke_certificate"></a>
  <h2>
      4.13 Keyserver: uploading your key or send key revoke certificate
      
  </h2>




<p>
<p class="column8">
        When you have finally created your public key and you want to put
        it publically available, you send it to keyserver. You are also
        recommended to put it into your ~/.plan file which is read by
        'finger' process.
        (<a href="#general_pgp_guidelines" > Note: key guidelines </A>)


<p class="column8">
        Sending your key to <strong class="word">one</strong> server is enough. After it processes your
        key, it will forward your add request to other servers
        automagically. If you later edit your key to add new email
        addresses, you send the same key again to keyserver.


<p class="column8">
        From a buffer containing your public pgp key, call the following
        command and select choice <em class="word">add</em>. The other choices probably arent't
        interesting to regular user.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / x k   tinypgp-keysrv-send-email-command    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The list of other choices is the same as explained int pgp's
        documentation file keyserv.doc. Here is brief summary.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Command
          Message body contains
      -------------------------------------------------

      ADD
          Your PGP public key (key to add is body of msg)
      *INDEX
          List all PGP keys the server knows about (-kv)
      INDEX userid
          List all PGP keys that match the userid (-kv)
      *VERBOSE INDEX
          List all PGP keys, verbose format (-kvv)
      *VERBOSE INDEX userid
          List all PGP keys, that match the userid, verbose (-kvv)
      *GET
          Get the whole public key ring (split)
      GET userid
          Get just that one key
      *MGET regexp
          Get all keys which match /regexp/
          regexp must be at least two characters long
      LAST days
          Get the keys updated in the last `days' days

      * Commands preceeded by asterisks are not implemented
      on all keyservers. In particular the Marc Horowitz &quot;C&quot;
      based keyservers do not implement these commands. This
      includes pgp-public-keys@pgp.mit.edu where you received
      this file from.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If for some reason your key gets compromized, you 1) revoke your
        key and send the revoked key (actually a certificate) to the
        keyserver with the same manned. See pgp documentation for more
        about invalidating and preventing to use your compromized key.



  <a name="pubring_and_user_control" id="pubring_and_user_control"></a>
  <h2>
      4.14 Pubring and User control
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          In current release you seldom need these commands, because
          program automatically handles user and pubring changes if you
          have set the appropriate variables.</em>



<p class="column8">
        To use different pubrings with pgp, there are two commands that
        show and change the active pubring. You need pubring control,
        because you should keep &quot;primary&quot; ring as small as possible due to
        speed. If pubring is big, calling Pgp is slow.


<p class="column8">
        The <em class="word">primary</em> pubring is the one that contains you closest friends
        whom you talk with pgp often. The occasional friends that you meet
        in the internet should be left in the <em class="word">secondary</em> pubrings.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Commands:  &quot;xps&quot;, &quot;xp\t&quot; and &quot;xpd&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You may also have several identities, known as &quot;user&quot; to pgp. The
        active user is normally your login name, but you can switch to any
        user that is known to PGP.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Commands:  &quot;xus&quot; and &quot;xud&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The user completion is based on your ~/.mailrc file; if you make
        any changes to it, TinyPgp will update its alias database.



  <a name="pubring_management" id="pubring_management"></a>
  <h2>
      4.15 Pubring management
      
  </h2>




<p>
<p class="column8">
        Package's basic design thrives to multiple pubrings. I normally
        talk to different people and I miss the feature from Pgp to attach
        'label' to fetched key. Storing keys to keyrings that have been
        named according to subject areas, I can remember who the person
        was. I have selected prefix <em class="word">pr-</em> for all my other pubrings.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
          ~/.pgp/pubring.pgp      my very closest friends. 10-20
          ~/.pgp/pr-pgp.pgp       pgp newsgroup people keys
          ~/.pgp/pr-elisp.pgp     Emacs lisp people
          ~/.pgp/pr-tmp.pgp       My test bed, scratch pubring
          ~/.pgp/pr-junk.pgp      Keys that can be deleted any time
          ~/.pgp/pr-big.pgp       Merged pubrings. All keys.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        When I mail someone, who uses pgp, and I don't have his pgp public
        key, the first thing I do, is to decide where I store this person's
        pgp key. If I respond to someone whom i probably never meet again
        (casual newsgroup message), I fetch the key and store it to pubring
        <em class="word">junk</em>. I mail the message, encrypt it with the key and forget that
        user never existed.


<p class="column8">
        This way I don't keep stacking pile of unneeded keys into my other
        vital keyrings. Also, using multiple keyrings let you categorise
        people with whom you talk to. If all the keys were in one pubring,
        how should I know where Mr. xxx xx@doodle.com's key come from? When
        it is in pubring <em class="word">elisp</em> I know &quot;Aha, he's Emacs lisp package
        developer.&quot;  Using multiple pubring acts like <em class="word">labelling</em> the keys.


<p class="column8">
        There is one problem: if you want to send mail to several people
        and encrypt the message, all the keys must be in the same
        pubring. For those purposes you probably want to merge all pubrings
        together to create <em class="word">big</em> pubring which you can use when sending
        encrypted mail to several people.


<p class="column8">
        See this variable how you should control the several pubrings. The
        primary pubring must be put first in the list and the big, merged,
        pubring must be last in the list. Variable's documentation string
        will explain the usage in full.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:pubring-table    </PRE></TD>
    </TR>
</TABLE>



  <a name="mode_encrypted_secring" id="mode_encrypted_secring"></a>
  <h2>
      4.16 Mode: encrypted secring
      
  </h2>




<p>
<p class="column8">
        If you want to have maximum security, you should keep your
        secring.pgp in encrypted format. If you're in multi-user envronment
        like Unix, be aware that the sysadms make backups of the disks in
        regular intervals and your secring.pgp gets stored somewhere in
        their tapes. Anyone that can access those tapes can read your
        secring contents. And even if you're in single user environment,
        somebody may sit down your console while you're away and copy the
        secring.pgp. Also imagine what happens if the whole computer gets
        stolen (typically a PC)


<p class="column8">
        secring.pgp contains your secret keys and key-id's that you
        have created for your private use. Why should you encrypt your
        secret keyring? The snooper cannot use those keys because he doesn't
        have the pass phrases, right? Yes, the keys cannot be used, but
        he can look what keys you have generated and reveal you <em class="word">newnym</em>
        or other anonymous account identities.


<p class="column8">
        Here is brief hypothetical excerpt from secring.pgp

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % pgp -kvv secring.pgp  [person Mr. Foo Bar's secring]

      Key ring: 'secring.pgp'
      Type Bits/KeyID    Date       User ID
      sec   512/00000001 1997/08/12 nym2@nym.alias.net
      sec   512/00000002 1997/08/11 nym2@anon.efga.org
      sec   512/00000003 1997/06/05 nym3@efga.owl.de
      sec   512/00000004 1997/02/17 nym4@anon.nymserver.com
      sec   512/AAAAAAAA 1996/12/03 my-email@my-address.com    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If somebody can get this listing, you can say goodbye to your
        anonymous identities! The imposter can read that Mr. Foo has
        <em class="word">newnym</em> type anonymous accounts in nym,efga and efga and one
        <em class="word">nymserver</em> account. He can now go and write 10 lines of perl code
        that fetches articles from the nearest newsgroup server and find
        any articles that has those email addresses. Boom, you're
        busted. He knows what anonymous names you use in usenet articles
        and he can spread the word...


<p class="column8">
        You don't want that to happen. You want to keep hush hush with your
        anonymous accounts instead. The solution is to keep your secret
        keyring in encrypted format so that nobody can examine it.




<p class="column7"><em><strong>
       4.16.1 Make backup</strong></em>



<p class="column8">
        But before you start using the secring crypt mode, be sure to make
        to back your secring first. It won't do much good if you just copy
        the original secring.pgp to somewhere else, because the copy is as
        readable as the original secring. You should in addition encrypt
        the backup. This command that does this all is:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / x c   tinypgp-secring-backup    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        It copies the secring.pgp and encrypts the backup conventionally
        with given password. Now you have backup and you should put it into
        removable media away from disk crash. You can start using the
        secring crypt mode by calling following function:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / m c   tinypgp-secring-crypt-mode-toggle    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If the mode was <strong class="word">off</strong> initially
        <a href="#modeline_indicators" >(Note: modeline)</A>
        program will create conventionally encrypted secring with shell
        command <samp class="word">pgp</samp> <a href="#encrypted_secring" > (Note: implementation)</A>
        and delete the unencrypted secring.pgp.


<p class="column10"><em class="quote10">
          <strong class="word">NOTE</strong>: Naturally you cannot execute <samp class="word">sign</samp> or <samp class="word">decrypt</samp> commands
          from shell prompt when there is no secring.pgp. In addition, all
          key commands that need secring are out of use. (Eg. You cannot
          make new keys with pgp -kg)</em>



<p class="column8">
        If you turn <strong class="word">off</strong> the mode, then reverse happens: the encrypted
        secring is opened and moved to secring.pgp. There is no more
        encrypted secring and things are as they are in normal PGP.


<p class="column8">
        If you leave the mode <strong class="word">on</strong> when you exit Emacs, don't worry. When
        TinyPgp starts next time it detects automatically in which state
        your secring is and chooses the right initial mode.


<p class="column8">
        All commands that you do from inside TinyPgp will work
        transparently and you should not even notice that you're using
        encrypted keyring.


<p class="column7"><em><strong>
       4.16.2 Changing secring password</strong></em>



<p class="column8">
        When you turn secring crypt mode on, the following happens

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      secring.pgp --&gt; secring.enc     password &quot;qwer&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Once the password is set it lasts untill you kill Emacs. If you
        want to change the password, you must first return to non-crypt
        secring mode.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  Mode off
      secring.pgp &lt;-- secring.enc     password &quot;qwer&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Because the password is already known and stored into memory, you
        must instruct TinyPgp to forget it with following command. This
        password won't expire automatically as the normal PGP passwords.
        (Why? If it would expire along with the pgp pass phrases, you would
        have to retype <strong class="word">2</strong> password objects when using the pgp command next
        time)

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / x X   tinypgp-secring-crypt-expire-password    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Now, if you turn on the mode again, a new password is asked.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  When you turn mode on
      secring.pgp --&gt; secring.enc     password &quot;qq1&quot;    </PRE></TD>
    </TR>
</TABLE>



  <a name="mode_auto_signing" id="mode_auto_signing"></a>
  <h2>
      4.17 Mode: auto signing
      
  </h2>




<p>
<p class="column8">
        In addition to auto action list which is consulted when you send
        message with C-c C-c, there is also mode which you can turn on:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / m s   tinypgp-sign-mail-auto-mode-toggle    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        And the modeline will then have letter <em class="word">A</em> indicating that every
        mail you send then on, will be (A)uto signed. You can also turn the auto
        signing mode on when the package loads by putting the following
        into your .emacs.tipgp.el startup file

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  Regular Emacs C-x m mail mode
      (add-hook 'mail-send-hook 'tinypgp-sign-mail-auto-mode-toggle-on)

      ;;  Gnus message mode
      (add-hook 'message-send-hook 'tinypgp-sign-mail-auto-mode-toggle-on)    </PRE></TD>
    </TR>
</TABLE>



  <a name="mode_auto_signing_more_finer_control" id="mode_auto_signing_more_finer_control"></a>
  <h2>
      4.18 Mode: auto signing, more finer control
      
  </h2>




<p>
<p class="column8">
        When you have auto signing mode on, it affects all your outgoing
        mail. Well, almost. There is also more finer control for this
        feature: lisp programmers can add a function to the variable

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:sign-mail-p-function    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        If this function return to <samp class="word">non-nil</samp>, then the current message will
        be signed. Perhaps you do not want to sign mail messges when you're
        sending mail to your fellow workers, because the extra &quot;pgp noise&quot;
        isn't really necessary when talking to your colleagues.
        Here is one such example:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  Sign only messages that are not sent to my fellow
      ;;  workers at domain 'foo'. Ie. sign messages to the outside
      ;;  world.

      (setq tinypgp-:sign-mail-p-function
        '(lambda ()
          (not (string-match &quot;foo&quot; (or (ti::mt-get-field-1 &quot;to&quot;) &quot;&quot;)))))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        In the above function, if the message is sent to your colleagues,
        it return nil. This has also the effect on the modeline. Instead of
        seeing <strong class="word">A</strong>, you will see <strong class="word">a</strong> referring to some kind of restriction
        that currently prohibits auto signing to take in effect.


<p class="column10"><em class="quote10">
          Note: Auto signig is suppressed automatically in certain
          situations, like if <strong class="word">remailer</strong> action is in progress.</em>




  <a name="mode_email_substitution" id="mode_email_substitution"></a>
  <h2>
      4.19 Mode: email substitution
      
  </h2>




<p>
<p class="column8">
        This command you probably need very rarely. It is used to turn off
        possible email substitution functions so that the email addresses
        read from the buffer are passed &quot;as is&quot; to the PGP eg. when you
        encrypt. To toggle this mode, use

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / m e   tinypgp-email-substitution-toggle    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The email substitution is needed in certain situations, where you
        want to tell exactly what is the correct 0x pgp key for some email
        address. (see later in this document). Suppose you have added entry
        for the <em class="word">Nymserver</em> account, to treat every encryption so that
        Server's PGP is used, you cannot send encrypted mail to individual
        account users. But if you turn off the substitution for a moment,
        then you can encrypt to the individual Anon account user.


<p class="column8">
        Still confused? Or maybe I didn't expain it well enough. Here is is
        the same with some pictures.


<p class="column8">
        substitution active:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      To: anXXX@anon.nymserver.com

      When you encrypt this message; the encryption is done with
      the Server's anon.nymserver.com key due to email substitution
      which converts every *anXXX* to be treated as server message.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        substitution inactive:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      To: anXXX@anon.nymserver.com

      This time encryption uses *anXXX@anon.nymserver.com* as a key
      when it does the encryption. If you don't have that key in you
      keyrings your encryption fails.    </PRE></TD>
    </TR>
</TABLE>



  <a name="mode_selected_headers_are_signed" id="mode_selected_headers_are_signed"></a>
  <h2>
      4.20 Mode: selected headers are signed
      
  </h2>




<p>
<p class="column8">
        You can use variable <samp class="word">tinypgp-:header-sign-table</samp> to list the headers
        you want to include in signing to protect some important headers
        from modifications. However, there may be times that you want to
        use normal message signing only (eg. if you send plain text
        document).  This toggle swithes <samp class="word">tinypgp-:header-sign-table</samp> on and
        off according to your needs.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / m H       tinypgp-header-sign-mode-toggle    </PRE></TD>
    </TR>
</TABLE>



  <a name="anonymizing_message_headers" id="anonymizing_message_headers"></a>
  <h2>
      4.21 Anonymizing message headers
      
  </h2>




<p>
<p class="column8">
        Normally when you send encrypted mail to someone, the message body
        is in encrypted format. However, you other headers are visible and
        some snooper may determine your post content by looking at the
        Subject and other header.


<p class="column8">
        So, when you have replied to a message and you're about to send it,
        you can call command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / a     tinypgp-header-move-to-body    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Which moves the Subject and some other fields inside body of
        message and scrambles the other visible headers with dummy values
        and deletes headers that are not needed. Only after this you should
        encrypt the mail to get maximum security over the message. Here is
        initial message

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      To: close.friend@br.com
      Subject: Stock A of company XXX will be rising -- buy it!
      FCC: ~/.RMAIL.out
      --text follows this line--
      Hi I just heard rumor from very reliable source that...    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        And after you anonymize this

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      To: close.friend@br.com
      Subject:message
      FCC: ~/.RMAIL.out
      --text follows this line--
      ##
      Subject:  Stock A of company XXX will be rising -- buy it!

      Hi I just heard rumor from very reliable source that...    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        And when you finally encrypt the message, it is impossible for
        third party to tell what the message contains. The &quot;##&quot; is a hash
        mark and belongs to the remailer instructions for adding additional
        headers if you wonder the convention used.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      To: close.friend@br.com
      Subject:message
      --text follows this line--
      ::
      Encrypted: PGP

      -----BEGIN PGP MESSAGE-----
      Version: 2.6.3ia
      Comment: Processed by Emacs TinyPgp.el 1.96

      hEwDwLrt1UcUHTUBAgCjd11ocnVaYiO6bwMV6RND/O64dfh4T9UP12l6nv1ZDSmb
      nDKfLbECmJHH/YRGHjUEty7CjoW0uitCYm38SDlapgAAAIjP/8E/7qELvVua/D8x
      3vPqRtrhtuXqPqF8z28qLIJJSbgZdyiADAJsaWTDYVgwID1LYFzXffIcnMmX0hgt
      Je5UZYtpjeWOB+jYKNfNYjxoSSqTnXqh+wMmkt4kMttaGoe5D1rttwPjvaXec4e7
      WqW7uQz14eiRmjSMvjML1XqaGWRMkvDxmNkO
      =ZW+L
      -----END PGP MESSAGE-----    </PRE></TD>
    </TR>
</TABLE>

<hr>
               <A name="feature_description_remailers"  id="feature_description_remailers"></A>
               <h1>
               5.0 Feature description: remailers
               
               </h1>



  <a name="enabling_remailer_support" id="enabling_remailer_support"></a>
  <h2>
      5.1 Enabling remailer support
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          IN ORDER TO USE REMAILERS OR NEWNYM ACCOUNT COMMANDS YOU HAVE TO
          GET AND INSTALL <strong class="word">Levien</strong> <strong class="word">list</strong> described later.</em>




  <a name="before_you_use_remailer_interface" id="before_you_use_remailer_interface"></a>
  <h2>
      5.2 Before you use remailer interface
      
  </h2>




<p>
<p class="column8">
        You should get on hand the remailer faqs and the help files, so
        that you understand what's happening when you start using the
        remailer functions. I have tried my best to make all this as
        transparent as possible, but unless you have a clue how remailer
        messages are constructed, please don't try to use the remailer
        interface at all. It is also essential that you realize not to use
        remailing to harrash people. If you do so, you will be sure that
        any decent remailer admin tries his best to track you down, in
        spite of your anonymity, and draw your account.


<p class="column8">
        The remailers are good thing, as pgp itself, but if you misuse them
        they may eventually vanish due to abuse. For this reason you are
        not allowed to remail to multiple recipients. TinyPgp will not
        support bulk anonymous messages.



  <a name="reply_block_do_you_need_it" id="reply_block_do_you_need_it"></a>
  <h2>
      5.3 Reply block: do you need it?
      
  </h2>




<p>
<p class="column8">
        To be honest, you don't necessary need a reply block if you want to
        use the remail/anonymizing interface to <em class="word">send</em> messages. The reply
        block is needed for couple of reasons:

<ul>
	<li>You use reply block to test your remailer chain. The
            block should return back if the chain is alive. If you
            don't get the reply block back, then you shouldn't use
            that remailer chain (the chain may be only one remailer)
<li>If you send anonymous message to someone and you include
            your reply block(that's encrypted), the person is able to
            answer to you. He simply send the message back to the remailer
            whose reply block that is and you'll get his answer.
            Naturally anonymized by the remailer.
	<li>You have to submit reply block to <em class="word">Newnym</em> type accounts.</li>
</ul>





  <a name="reply_block_basics" id="reply_block_basics"></a>
  <h2>
      5.4 Reply block: basics
      
  </h2>




<p>
<p class="column8">
        To test remailers, you usually need to construct <em class="word">reply</em> <em class="word">block</em>.
        The block is smallest piece of encrypted text that tells to send
        the message back to you.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
              encrypted
      you --&gt; reply-block --&gt; remailer
                              decrypts it, sees where
                              Request-Remailing-To: header
                              tells to forward the message.
                              Property 'ek' encrypts the mail
          &lt;--             &lt;--
              conventionally
              encrypted message    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You should customise for each remailer you use a reply-block that
        takes advantage of the special reply block characteristics: see <samp class="word">q</samp>
        and <samp class="word">p</samp> properties in the remailer documentation.



  <a name="about_properties_cpunk_ek_pgp" id="about_properties_cpunk_ek_pgp"></a>
  <h2>
      5.5 About properties: cpunk ek pgp
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          Sorry, I consider remailer that <strong class="word">doesn't</strong> support pgp, pretty
          useless</em>



<p class="column8">
        These are the minimum properties that are required from a remailer
        before you can use it with TinyPgp. All other remailers listed in
        levien list are discarded. the <em class="word">latent</em> property is also very
        desirable, but it is ignored if the remailer does not support it.


<p class="column8">
        In order to post to the newsgroup, the remailer must support
        property <em class="word">post</em>. Another possibility is to send your message
        through remailer to some <em class="word">mail2news</em> gateway. For newsgroups posts
        the remailer must support also property <em class="word">hash</em> which allows
        including custom headers.



  <a name="remailer_list_levien_list" id="remailer_list_levien_list"></a>
  <h2>
      5.6 Remailer list: levien list
      
  </h2>




<p>
<p class="column8">
        Raph Levien, yes that's Raph and not Ralph, maintains list of
        known remailers, their properties and history of response
        times. You should be up to date all the time with the list because
        remailer raise and disappears all the time and you should not use
        one that no longer exist. You can get the list within TinyPgp or
        from Unix shell prompt by finger.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      %  finger remailer-list@kiwi.cs.berkeley.edu
      C / . r u   tinypgp-r-update-remailer-list    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Be sure that you have set the location of the Levien list. Adjust
        this variable if needed.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:r-list-file      Default is  ~/.remailer.lst    </PRE></TD>
    </TR>
</TABLE>



  <a name="reply_block_creating" id="reply_block_creating"></a>
  <h2>
      5.7 Reply block: creating
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          If you want to contruct very complex reply block, then you do
          it all manually: write the reply block headers and ancrypt it
          by hand. This chapter only explains the very simple reply
          block creation.</em>



<p class="column8">
        To start creating a basic reply block, you must be on empty <span class="word-ref">[mail]</span>
        buffer. If you're not, then program asks permission to empty current
        buffer first. Call this command to start creating the reply block
        and answer to questions

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . r b   tinypgp-r-reply-block-basic   (b for basic)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Let's suppose you select remailer <em class="word">replay</em>, then the following
        questions are displayed

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Select remailer: replay [or complete with tab]
      Use encrypt key: mykey  [when you receive message, you need this]
      Latent time eg. +0:00r [empty = no latent]: 0:02r    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The last two questions depend on the remailer you select and are
        only asked if the remailer supports such properties. The encrypt
        key is important, because the final mail delivered to you is
        conventionally crypted with this key. Remember it well and
        use some (similar) memorable key for each remmailer's reply block!
        Next, you should save the message body to some file and update
        following variable so that TinyPgp knows about the just created
        reply block.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      '((REMAILER-ALIAS FILE)  ..) like '((&quot;replay&quot; &quot;~/Mail/.r-replay&quot;))
      tinypgp-:r-reply-block-table    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Repeat the task for each remailer you're going to use. Follow the
        Usenet newsgroup <em class="word">alt.privacy.anon-server</em> often and very carefully
        so that you don't use remailer that does not exist any more or that
        has proven unreliable (some of them filter messages)



  <a name="reply_block_testing" id="reply_block_testing"></a>
  <h2>
      5.8 Reply block: testing
      
  </h2>




<p>
<p class="column8">
        When you have reply blocks ready, you should also test that you
        have constructed them right: that they do work. To test all defined
        reply blocks, call function

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C / . r t       tinypgp-r-reply-block-test    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Which sends each reply block to remailer. Then you just sit back and
        wait for the answers. If you don't get all reply blocks back,
        investigate the problematic remailers and if you still can't get
        the remailer responding, don't use the remailer at all. You have
        plenty of other remailers to choose from.



  <a name="sending_as_anonymous_remailer_usenet_or_private_mail" id="sending_as_anonymous_remailer_usenet_or_private_mail"></a>
  <h2>
      5.9 Sending as anonymous: remailer, usenet, or private mail
      
  </h2>




<p>
<p class="column8">
        Sometimes you want to send some message anonymously. You compose
        the message as usual and when you have finished, you convert the
        message to anonymous remailer format with command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . r p   tinypgp-r-post    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        This command can tell from the buffer if the current message should
        be posted anonymously to usenet newsgroup or if it is a regular
        mail message. You can't use CC or BCC in the headers, because
        program prohibits sending bulk anonymouys email. If you must send
        some anonymous message to several people, just copy the mail buffer
        with normal Emacs commands ( <samp class="word">C-x</samp> <samp class="word">h</samp> to mark buffer, <samp class="word">C-x</samp> <samp class="word">x</samp>
        <samp class="word">r,</samp> to copy region to register) and send it again with modified
        recipient.


<p class="column8">
        For usenet posts, crossposts are handled, so that you can reply to
        someone's message that has been crosposted.


<p class="column8">
        When comand has finished, your message body is formatted for
        mail2news remailer you have set in <samp class="word">tinypgp-:r-mail2news-remailer</samp>.
        In order to send the message, it must be encrypted too (you can
        automate this to adding entry to auto action table)



  <a name="chaining" id="chaining"></a>
  <h2>
      5.10 Chaining
      
  </h2>




<p>
<p class="column8">
        Chaining means, that you want to send the message through sevaral
        remailers. If you use 3 hops (more is definitely overkill and error
        prone if some remailer is down), you will be pretty sure that no
        one can trace you without putting much effert into it. To start
        chaining, you issue following command after you have ready remailer
        post in mail buffer (you did it with C-c / . r p and C-c / e)

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . r C       tinypgp-r-chain-1    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You can repeat this as many times as you want. When you're ready,
        just send the message and it will travel through all remailer you
        added to chain. (Watch you auto-action; you may want to defeat it
        when you are about to press <samp class="word">C-c</samp> <samp class="word">C-c</samp> to send this chained
        message)


<p class="column8">
        Well, usually you don't use that command, because doing chaining
        manually is very tedious for every post. Let's start defining
        predefined chains instead. Set this variable:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:r-chain    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Example:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (defconst tinypgp-:r-chain
        '((&quot;1-way&quot;    [(&quot;replay&quot; &quot;+0:05r&quot; &quot;zyrix&quot;)])
          ;;   shuffle-vector seelcts random path each time
          (&quot;hide&quot;     (progn (shuffle-vector [(&quot;replay&quot;) (&quot;dustbin&quot;)])))
          ;;  let them eat this!
          (&quot;milkyway&quot; [(&quot;replay&quot;) (&quot;replay&quot;) (&quot;replay&quot;)])
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The <samp class="word">tinypgp-:r-chain</samp> usage and different parametrs in the vector are
        best described in the variable documentation, <samp class="word">C-h</samp> <samp class="word">v</samp>
        <samp class="word">tinypgp-:r-chain</samp>, and I won't go into details here. When you have
        set this chain table, you can select the left hand names when you
        call

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . r c   tinypgp-r-chain    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        and it will encrypt the underneath message as many times as your
        chain lenght is.

<hr>
               <A name="newnym_type_account_handling"  id="newnym_type_account_handling"></A>
               <h1>
               6.0 Newnym type account handling
               
               </h1>



  <a name="enabling_newnym_support" id="enabling_newnym_support"></a>
  <h2>
      6.1 Enabling newnym support
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          IN ORDER TO USE NEWNYM ACCOUNT COMMANDS YOU HAVE TO GET AND
          INSTALL <strong class="word">Levien</strong> <strong class="word">list</strong> described previously.</em>




  <a name="newnym_addresses" id="newnym_addresses"></a>
  <h2>
      6.2 Newnym addresses
      
  </h2>




<p>
<p class="column8">
        anon.efga.org from Electronic Frontiers Georgia. <a href="http://anon.efga.org/" >http://anon.efga.org/</A><br>
        nym.alias.net<br>



  <a name="newnym_echo_menu" id="newnym_echo_menu"></a>
  <h2>
      6.3 Newnym echo menu
      
  </h2>




<p>
<p class="column8">
        Because there are so many keybindings in the TinyPgp, it is almost
        impossible to remember each one. In the program there is
        possible to use guided echo area menu instead for <em class="word">newnym</em> commands.
        You enable the menu with

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
       (setq tinypgp-:newnym-echo-menu-use-p t)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        which is also the default setting. When you hit the
        <samp class="word">tinypgp-:mode-prefix-key-newnym</samp>, by default C-c / . n , all the
        available newnym commands are presented in the echo menu as follows

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
       p)ost c)fg t)oggle   req: (a)ck e)nab f)fing s)sig si(z)e [hCDK]    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You can quit the menu with <em class="word">q</em> and ask help with <em class="word">?</em> so see what the
        commands mean.


<p class="column9"><strong>
         NOTE:</strong>



<p class="column8">
        When you enable the echo guided menu, you won't see bindings listed
        in the X-popup menu that is displayed when you draw down menubar's
        <em class="word">TPgp-&gt;NewNymService</em>. Neither does the command bindings get listed
        with

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c /. n  C-h    try also  C-h k   C-c /. n    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        That's because the commands are controlled by one single function
        and not bunch of functions that are bound key by key. This also
        eans that if you want to add <em class="word">new</em> binding to the

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Group, by using

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (define-key
          tinypgp-:mode-map
          (concat tinypgp-:mode-prefix-key &quot;x&quot;)
          'my-tinypgp-newnym-command
          )
      ;; End    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        It is not recognized in the echo menu. Yes; the command goes to the
        right (newnym prefix) map, but the menu doesn't know about it,
        because you didn't define entry into this table as well:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:newnym-echo-menu    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Please see how you manipulate echo menu variables like this
        from <em class="word">tinymenu.el</em>.



  <a name="ordering_newnym_help_file" id="ordering_newnym_help_file"></a>
  <h2>
      6.4 Ordering newnym help file
      
  </h2>




<p>
<p class="column8">
        Opening <em class="word">nym</em> account is not easy task at all and there is high
        probability that something goes wrong or you get bounched mail
        because the account open request wasn't in proper format. I would
        recommend that you first order the latest help file and read it
        carefully and only then call the account open command.

<ul>
	<li>Order help file with command C-u C-c / . n ? or
            <samp class="word">C-u</samp> <samp class="word">M-x</samp> <samp class="word">tinypgp-newnym-help</samp>. The additional prefix arg
            forces sending the request to get the help file. You should
	            ask new updates of that file from time to time.</li>
</ul>




<p class="column8">
        You have to wait a while and when you receive the help file, please
        save it and update variable above. Every time you call C-u C-c /
        . n ? the file will be opened for you.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:r-newnym-help-file    </PRE></TD>
    </TR>
</TABLE>



  <a name="ordering_newnym_servers_public_key" id="ordering_newnym_servers_public_key"></a>
  <h2>
      6.5 Ordering newnym server's public key
      
  </h2>




<p>
<p class="column8">
        The <em class="word">nym</em> type accounts require that you send all messages to them
        in encrypted format and that's why need to insert their public keys
        to your pubring. The key usually is included in the help file that
        you ordered above; but you can also send the key request get
        command with following. Normally you need this command only once in
        the lifetime of your nym account.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n K     tinypgp-newnym-get-pgp-key    </PRE></TD>
    </TR>
</TABLE>



  <a name="asking_used_newnym_account_names" id="asking_used_newnym_account_names"></a>
  <h2>
      6.6 Asking used newnym account names
      
  </h2>




<p>
<p class="column8">
        Don't go and order account name blindfolded, but send a request
        to nym account and ask for list of used nyms. Then you can choose
        some acocunt name that is not already reserved.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c . / n u     tinypgp-newnym-get-used-list    </PRE></TD>
    </TR>
</TABLE>



  <a name="opening_newnym_account" id="opening_newnym_account"></a>
  <h2>
      6.7 Opening newnym account
      
  </h2>




<p>
<p class="column8">
        Before you do anything else:

<ol>
	<li>You have to have nym server's PGP key in you pubring.
<li>You have created new pgp key that you will be using in
            conjunction with your account. Make the pgp key as
            instructed in the newnym help file. You cannot proceed
            before that.
	</li>
<li>You have to have created ready reply block that you will
            be submitting to nym account. See remailer instruction how
            to create reply block and how to update
	            <samp class="word">tinypgp-:r-reply-block-table</samp></li>
</ul>




<p class="column8">
        If these conditions are in order; you can actually start composing
        the create account request. Here is step by step instructions
        what happens next.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n C     tinypgp-newnym-create
      &quot;Do you have created the necessary PGP keys...&quot; [Press ok]
      Newnym account domain:                          [Select with TAB]
      &quot;You should check free login names..&quot;           [Ignore this]
      Nym account login name: [you login name, see used nym list]
      Describe nym login name: [Like: Mr fooBar Beeblebrox]
      Newnym PGP key matchig string:  [Give created nym PGP key-id]
      Select reply block of remailer:                 [TAB to complete]

      .. final instructions .. [Press any key]    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You should see very complex looking mail buffer that holds all
        all the necessary things that you need in sending the create
        request. At this point you're free to modify the buffers and
        change any settings. (Refer to nym help file). Few words of caution
        if you change anything

<ul>
	<li>The first line <strong class="word">must</strong> <strong class="word">contain</strong> <samp class="word">Config:</samp>
<li>The header fields must end to &quot;: &quot;, so &quot;From:MyNym&quot; is invalid
            and &quot;From: MyNym&quot; is valid. Also do not use domain addresses
            @newnym.site.com. There must only be the <strong class="word">loginName</strong> and no
            no absolute email address.
            addresses.
	</li>
<li>There can be multiple <samp class="word">Nym-Commands:</samp> lines
	</li>
<li>Field <samp class="word">Reply-Block:</samp> must end to <samp class="word">**</samp> if there is encrypted
	            reply block in the message.</li>
</ul>




<p class="column8">
        When you're satisfield with the settings, you do <em class="word">onePass</em> encrypt
        and sign: encypted with Nym server's pgp key, signed with your nym
        login's PGP key. The <em class="word">onePass</em> encrypted message you send to newnym
        server.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / u tab     Change to Nym user (your new nym login key-id)
      C-c / . t       *OnePass* Encrypt and Sign
      C-c C-c         Send the message    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You will receive confirmation message that tells you if the request
        was received and understood. Pay attention to possible error
        messages that you receive, correct things that went wrong and send
        new request if needed.



  <a name="newnym_account_management_nym_mode" id="newnym_account_management_nym_mode"></a>
  <h2>
      6.8 Newnym Account management; *nym* mode
      
  </h2>




<p>
<p class="column8">
        You manage your <em class="word">newnym</em> type account differently than the
        <em class="word">nymserver</em> account (explained later). All the messages must
        include <samp class="word">Config:</samp> header at the beginning of text body and rest of
        the options are added after that. To open account configuration
        request, you call command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n c tinypgp-newnym-config-sendmail-template    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You have now mail buffer in front of you for editing. In the
        modeline you will see that <samp class="word">tinypgp-newnym-mode</samp> (user callable minor
        mode) is active and modeline shows <samp class="word">tinypgp-:newnym-mode-name</samp> which
        is by default <em class="word">Nym</em>. The mode's defualt prefix is <samp class="word">C-\</samp> and the
        commands are:


<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-\ ?       describe mode
      C-\ tab     go to Nym-Commands field or create one.
      C-\ p       insert or replace public key block
      C-\ P       ...delete public key block
      C-\ r       insert or replace reply block
      C-\ R       ...delete reply block    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The tab key is electric, meaning, that it behaves like the original
        tab key if the <em class="word">Nym</em> <em class="word">minor</em> <em class="word">mode</em> were off, if cursor is anywhere
        else than over line <samp class="word">Nym-Commands:</samp>. In that line it behaves this
        way to help you to compose commands:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Nym-Commands: create +acksend +fin  +
      |             |     |             |  |
      |             |     |             |  complete all commands
      |             |     |             complete command &quot;fin&quot;
      |             |     Show default setting or example (prev word)
      |             |     *
      |             Show command help and advance to '*'.
      If the cursor is over word Nym-Commands:, then advance
      forward to first command word.    </PRE></TD>
    </TR>
</TABLE>



  <a name="newnym_auto_action" id="newnym_auto_action"></a>
  <h2>
      6.9 Newnym auto action
      
  </h2>




<p>
<p class="column8">
        To make life more easier with newnym account, you can define auto
        action that automatically performs the right encryption and signing
        when you hit C-c C-c key to send the request. The key here is that

<ol>
	<li>The message must be encrypted with <em class="word">Nym</em> server's pgp key
<li>But message must also be signed with <em class="word">your</em> nym pgp key.
	<li>This all must happen in 'One pass' (using pgp's -eatfs option)</li>
</ol>




<p class="column8">
        Here is example how you set up the auto action for <em class="word">Nym</em> account.


<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  When I hit C-c C-c to send mail, trigger
      ;;  'one pass' auto encrypt and sign

      (let* ((list '((nym-name-for-weasel@weasel
                      . &quot;\\(send\\|config\\)@weasel&quot;)
                     (nym-name-for-efga@anon.efga.org
                      . &quot;\\(send\\|config\\)@anon.efga.org&quot;)
                     ))
             sym re
             )
        (dolist (elt list)
          (setq sym (car elt)
                re  (cdr elt)
                elt (assoc re tinypgp-:auto-action-table))
          (if elt                             ;Remove old eltry
              (setq tinypgp-:auto-action-table
                    (delete elt tinypgp-:auto-action-table)))
          ;;
          ;; EVAL-OR-REGEXP  [SIGN-KEY-ID] [ENCRYPT] [XPGP] [KEYRING])
          ;;
          (push (list re sym t) tinypgp-:auto-action-table)
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Looks cryptic? Not really; It defines two newnym accounts: for
        <em class="word">weasel</em> and for <em class="word">efga</em>. The list is looped with <samp class="word">dolist</samp> and
        <samp class="word">assoc</samp> just check if there already is nym entry and won't go
        adding multiple same auto-actions. The push command add <em class="word">ELT</em> at a
        time to auto-action table. What you should observe here is that the
        second argument, the signing user, is a <strong class="word">symbol</strong>.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (list re sym  t)
               ^^^  Encrypt flag    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Because encrypt flag is <em class="word">t</em> and sign user is symbol, that causes
        doing <em class="word">one</em> <em class="word">pass</em> encrypt and sign. If the sign user were just a
        string, the message would have been first encrypted and then
        signed. That is very different matter.


<p class="column10"><em class="quote10">
          <strong class="word">NOTE:</strong> If you have several accounts, <strong class="word">yournym1</strong> <strong class="word">yournym2</strong> in
          the same nym <strong class="word">SERVER</strong>, remember that the auto-action doesn't know
          about them. It blindly checks if To destination contains <em class="word">re</em> and
          automatically uses <strong class="word">nym</strong> that you have defined. If you want to
          post by different <strong class="word">yournym2</strong>, you have to a) defeat the
          auto-action C-c / m ! b) change user to <strong class="word">yournym2</strong> C-c / u tab c)
          manually do <samp class="word">OnePass</samp> encrypt and sign with C-c / t</em>




  <a name="sending_mail_from_your_newnym_account" id="sending_mail_from_your_newnym_account"></a>
  <h2>
      6.10 Sending mail from your newnym account
      
  </h2>




<p>
<p class="column8">
        Compose the message as usual and convert it into newnym post
        and do <em class="word">one</em> <em class="word">pass</em> encrypt and sign while the active pgp
        user is your <em class="word">nym</em>.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / u tab     change user to *nym*
      C-c / . n p     tinypgp-newnym-post
      C-c / t         One pass encrypt and sign
      C-c C-c         to send the message.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Or if you have defined auto action for newnym server, you only
        need to call

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n p     tinypgp-newnym-post
      C-c C-c         to send the message.    </PRE></TD>
    </TR>
</TABLE>



  <a name="sending_email_to_usenet_from_your_newnym_account" id="sending_email_to_usenet_from_your_newnym_account"></a>
  <h2>
      6.11 Sending email to usenet from your newnym account
      
  </h2>




<p>
<p class="column8">
        This is identical to 'Sending mail from your nym' above; the only
        difference is that the post must travel through mail2news gateway.
        You can select your favorite gateway by settings following
        variable.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  Default is mail2news@anon.lcs.mit.edu
      tinypgp-:r-newnym-mail2news-address    </PRE></TD>
    </TR>
</TABLE>



  <a name="newnym_request_commands" id="newnym_request_commands"></a>
  <h2>
      6.12 Newnym request commands
      
  </h2>




<p>
<p class="column8">
        All the newnym requsts can be sent individually too from single
        keystrokes if you don't want to dwell into details and hack in the
        nym configure request buffer. Here is list of supported request
        commands. The prefix arg <samp class="word">C-u</samp> tells to send the <em class="word">plus(+)</em> request
        instead.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n a     -ascksend
      C-c / . n r     -cryptrecv
      C-c / . n e     -disable  (in fact the minus re-enables)
      C-c / . n f     -fingerkey
      C-c / . n F     -fixedsize
      C-c / . n s     -sigsend    </PRE></TD>
    </TR>
</TABLE>



  <a name="newnym_account_expirarion_status" id="newnym_account_expirarion_status"></a>
  <h2>
      6.13 Newnym account expirarion status
      
  </h2>




<p>
<p class="column8">
        Your Newnym account won't last foreever onece you have opened it.
        If you don't use it for approx 120 days, he account will be deleted
        from the newnym server. Check the exact expiration conditions from
        the Newnym server's help file. In TinyPgp, the account expiration
        count is kept in so called <em class="word">stamp</em> <em class="word">files</em>. Once you have defined
        <samp class="word">tinypgp-:r-newnym-default-account-table</samp> a files pointed by
        <samp class="word">tinypgp-:r-newnym-stamp-file-prefix</samp> are created for each <em class="word">nym</em>
        you defined there. Suppose you have two nyms:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (defconst tinypgp-:r-newnym-default-account-table
        '((&quot;efga&quot;     &quot;redneck&quot;   &quot;nym-account&quot;  &quot;E1&quot;)
          (&quot;efga2&quot;    &quot;redneck&quot;   &quot;nym-account&quot;  &quot;E2&quot;)
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Then at startup you will notice following zero length files to appear.
        If you delete them accidentally, then they are recreated and the
        counting of xpiry days starts from zero, which is not true any
        more.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ~/.pgp/.emacs.tinypgp-stamp.duihnfhuhurodj
      ~/.pgp/.emacs.tinypgp-stamp.duihnfhqghu    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The names of these files are partly mangled to protect from
        occasional user from reading your newnym server information. These
        names are easily decodable, but you should put them in directory
        where noone else has read or listing permissions.


<p class="column8">
        The <em class="word">stamp</em> <em class="word">files</em> are examined every time on startup and the
        dates since they were used are calculated. You will message

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (Newnym expiry) nym-name1: 100 nym-name2: 30    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        At startup whic tells you that it has been 100 and 30 days
        for these accounts since you've last used them. You can also
        print this information with command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n x     tinypgp-newnym-account-expiry-warnings    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The files are stamped whenever you send any nym <em class="word">request</em> command
        to your active nym. Be sure to use the <em class="word">request</em> commands
        periodically: toggling the <em class="word">ack</em> on and/off will renew your account.



  <a name="newnym_multiple_account_management" id="newnym_multiple_account_management"></a>
  <h2>
      6.14 Newnym multiple account management
      
  </h2>




<p>
<p class="column8">
        Normally all commands ask server and account name before you can
        use nym commands. But really, this get's tedious soon and it would
        be nice it you wouldn't have confirm the server and account name
        each time. No worries, just define following variable like this.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;;  I have two newnym accounts; in different servers
      (defconst tinypgp-:r-newnym-default-account-table
        '((&quot;efga&quot;     &quot;efga&quot;      &quot;me-efga-login&quot;   &quot;E&quot;)
          (&quot;weasel&quot;   &quot;weasel&quot;    &quot;my-weasel-login&quot; &quot;W&quot;)
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        To select either efga or weasel as default setting, call command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n tab   tinypgp-newnym-default-set    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        After that you're no more asked what server and what account name
        you use when you call newnym service commands. When the default
        values are used, the modeline has indication &quot;E&quot; when the default
        Efga setting is active.


<p class="column8">
        If you want to take full control for a while, you can use following
        command, which will temporarily disable the default nym settings:
        it sets server and account to nil. Calling it again, will restore
        the Efga settings.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . n t     tinypgp-newnym-default-toggle    </PRE></TD>
    </TR>
</TABLE>

<hr>
               <A name="nymserver_type_account_handling"  id="nymserver_type_account_handling"></A>
               <h1>
               7.0 Nymserver type account handling
               
               </h1>



  <a name="nymserver_address" id="nymserver_address"></a>
  <h2>
      7.1 Nymserver address
      
  </h2>




<p>
<p class="column8">
        <a href="http://www.nymserver.com" >http://www.nymserver.com</A> Administred by Andrew N. Edmond<br>
        #URL-SITE/nymserv.html Nymserver documentation in html format<br>



  <a name="opening_nymserver_account" id="opening_nymserver_account"></a>
  <h2>
      7.2 Opening nymserver account
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          You have to order paid account (cheap, $20 a year) before
          you can use Nymserver. The free accounts were closed due to
          SPAM abuse. Sorry, what a fine and easy server and some
          idiots forced server to change its policy.</em>



<p class="column8">
        When you get your help file for the account, it will contain full
        explanation how the account is managed. There are equivalent
        command in this package to control all listed features. Your first
        thing to do is to order account for you by sending mail directly to
        help address. You do this with command


<p class="column10"><em class="quote10">
          Before you do this, make sure you're sending mail from a host/site
          that is your primary account. You can get only *<strong class="word">one</strong>* anon account
          from the Nymserver and it allocates a return address to the site
          you're mailing from.</em>


<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y c    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Shortly you will receive instructions how to use this account. After
        you have received the mail; immediately define some variables
        to make the account active in the program

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (defconst tinypgp-:nymserver-account-table
        '((&quot;nymserver&quot; &quot;anXXXX@anon.nymserver.com&quot; &quot;qF8ASDeds&quot;
           &quot;Mr. Anonymous.&quot;
           &quot;~/txt/nymserver.hlp&quot;
           )
          ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Remember to save the received help file and put the filename to the
        variable's entry list, so that you can use following command to
        recall the help file at any time.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y ? tinypgp-nymserver-help    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Now you have account active and you can start using other
        commands to manage your account.



  <a name="checking_your_account_status_finger" id="checking_your_account_status_finger"></a>
  <h2>
      7.3 Checking your account status; finger
      
  </h2>




<p>
<p class="column8">
        Call finger command to check your account status. The receved mail
        from the command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y f tinypgp-nymserver-finger    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        will show something like this; where all your characteristics and
        enabled options are listed. Here is typical configuration of newly
        created account; notice that you have to pay little for level 2
        access and features that come with it.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      NYMSERVER ACCOUNT CONFIGURATION

      Account: an12345@anon.nymserver.com
                    No nickname assigned.
      Mail transferred today: 4959 bytes
      Mail transferred ever: 2827 bytes
      Vacation status: vacation feature turned off.
      Watchdog setting: paranoid watchdog OFF.
      Anonymous method: bi-directional ANONymous.
      Remailing method: sending directly to real email mail address.
      PGP Encrypting is set on: not encrypting.
      PGP Signing is set on: not signing.

      This anonymous account's PGP key is:

          no PGP key.

      This anonymous account's plan is:

          no plan.

      This anonymous account's signature is:

          no signature.

      Account level:

          this account is level-2 (paid).

      Nymserver Finger Daemon
      <a href="http://www.nymserver.com/" >http://www.nymserver.com/</a>    </PRE></TD>
    </TR>
</TABLE>



  <a name="sending_nymserver_commands_in_encrypted_format" id="sending_nymserver_commands_in_encrypted_format"></a>
  <h2>
      7.4 Sending nymserver commands in encrypted format
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          You should activate encryption as soon as possible to
          prevent anyone from snooping your Anon commands and passwords.</em>



<p class="column8">
        TinyPgp can encrypt every command you send to the <em class="word">nymserver</em>. This
        protects your X-Anon-Password from snooping by some other 3rd
        party. However in order to use this feature; you must

<ul>
	<li>add the <em class="word">nymserver</em> PGP key to your keyring.
<li>Instruct TinyPgp to use that key (see nect section)
	<li>variable <samp class="word">tinypgp-:nymserver-request-encrypt</samp> must be non-nil</li>
</ul>




<p class="column8">
        The eancryption is <em class="word">off</em> by default, so that you can experiment
        with the account command without worrying about the encryption.
        After you have got experience and installed the PGP key, you should
        turn the <samp class="word">tinypgp-:nymserver-request-encrypt</samp> variable to <samp class="word">non-nil</samp>.



  <a name="using_pgp_with_the_account" id="using_pgp_with_the_account"></a>
  <h2>
      7.5 Using PGP with the account
      
  </h2>




<p>
<p class="column8">
        The PGP key for the <em class="word">nymserver</em> comes in the help file. You should
        feed it to your keyring immediately. Just open the help file and
        add the key that is included there.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y ?     tinypgp-nymserver-help
      C-c / k a       tinypgp-key-add-region-batch    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        When you have inserted the PGP key to your keyring, enable command
        encryption by putting this in your ~/.emacs

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:nymserver-request-encrypt t)    </PRE></TD>
    </TR>
</TABLE>



  <a name="nymserver_and_auto_action" id="nymserver_and_auto_action"></a>
  <h2>
      7.6 Nymserver and auto action
      
  </h2>




<p>
<p class="column8">
        To automatically send messages in encrypted format to nymserver,
        you should add auto action entry like this. Now every time you
        press C-c C-c; the mail is protected with pgp.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:auto-action-table
       (list
        (list &quot;anon@anon.nymserver.com&quot;  nil t)
        ;; other entries ...
        ))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You useally want to do this so that your boss can't snoop the
        content of your anonymous messages to newsgroups or to other
        people. (<a href="#mode:_email_substitution" > Note: email substitution</A>)



  <a name="uploading_pgp_key_to_your_account" id="uploading_pgp_key_to_your_account"></a>
  <h2>
      7.7 Uploading PGP key to your account
      
  </h2>




<p>
<p class="column8">
        Normally the mail you receive from the <em class="word">nymserver</em> is in plain text
        format, but you really like to receive encrypted messages, so that
        the mail content stays secure. In order to receive such mail; you
        have to a) upload new PGP key that has your nymserver's account
        addess in the key-id <span class="word-ref">[See 5.3.1 in the help file]</span> and b) upload
        that key to the <em class="word">nymserver</em>. When you have the PGP key ready in
        some of your keyrings, call command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y u     tinypgp-nymserver-pgp-upload    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Remember also to enable the PGP encryption for the account with
        command

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / . y e    </PRE></TD>
    </TR>
</TABLE>



  <a name="sending_as_anonymous_nymserver_usenet_or_private_mail" id="sending_as_anonymous_nymserver_usenet_or_private_mail"></a>
  <h2>
      7.8 Sending as anonymous: nymserver, usenet, or private mail
      
  </h2>




<p>
<p class="column8">
        Now when you have the account activated, you can start sending
        anonymous messages in the same way as you did with the remailers.

<ul>
	<li>You compose the message as usual; write new one or reply to some.
<li>Call C-c . e p to (p)ost the message in anonymous format.
	</li>
<li>Additionally you can forward the message through remailer
            with C-c . p before it reaches the anon account. This
            keeps away prying eyes of your local admin. The message is
            also protected with PGP encryption and readable only after
	            remailer.</li>
</ul>





  <a name="sending_as_anonymous_from_different_accounts" id="sending_as_anonymous_from_different_accounts"></a>
  <h2>
      7.9 Sending as anonymous: from different accounts
      
  </h2>




<p>
<p class="column8">
        As mentioned earlier, when you open account in nymserver, your
        site's address is the only place where you can send anonymous
        mail. Let's see situation below.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      aa@a.com  --&gt; you ordered anon account from here.
      bb@b.com  you have another normal account here
      cc@c.com  you have yet another normal account here    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Suppose you want to post from account bb@b.com as anon. Can't do
        that because nymserver expects you to be only in aa@a.com, in the
        site where you initially ordered the anon account.


<p class="column8">
        But, TinyPgp offers adding From field to the nymserver message, so
        that Nymserver thinks we're posting from aa@a.com. You must add
        entry FROM-ADDRESS, aa@a.com, to the list

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:nymserver-account-table    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        After that the From-field is inserted into every nymserver message
        and it thinks the message is coming from aa@a.com while you may be
        currently posting from a different site. Remember, that this
        applies to posting only; replies addresses to your anon account
        nymserser sends to your real aa@a.com address. [To change account
        anon address permanently, see <em class="word">newaddress</em> request]



  <a name="sending_as_anonymous_usenet_problems" id="sending_as_anonymous_usenet_problems"></a>
  <h2>
      7.10 Sending as anonymous: usenet problems
      
  </h2>




<p>
<p class="column8">
        When you send anonymous message through remailer to usenet
        newsgroup, prepare yourself to wait 1-3 days before the message is
        seen in the newsgroup. If you're accustomed to seeing yuor normal
        newsgroup posts withing 1-3 hours in the gnus newsreader, remember
        that the article just appeared in your nearest news server.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Your normal article --&gt; server1 --&gt; server2 ...
      Your anon article   --&gt; remailer --&gt; serverX --&gt; .. --&gt; server1    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        As you can see, you anon mail travels different route to your
        server1 when yuou send it first to remailer.



  <a name="special_ccing_to_multiple_recipients" id="special_ccing_to_multiple_recipients"></a>
  <h2>
      7.11 Special: cc'ing to multiple recipients
      
  </h2>




<p>
<p class="column8">
        Nymserver's manual page states that you can only send mail to one
        person at a time or to 3 newsgroups.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      X-Anon-To: newsgroup | email address

      This X-Directive tells the Nymserver where you are sending mail
      to, which is only applicable when sending mail to
      anon@anon.nymserver.com This can be ONE (1) email address or (3)
      newsgroups that are comma delimited.    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        There is good reason for this, but sometimes it would be nice to
        add couple of CC people in the list. With TinyPgp you can add CC
        field as usual to regular email messages. The number of CC'd
        addresses is not limited. When you hit C-c C-c to send message, the
        CC field is checked and if it exists, the copy of the body will be
        sent individually to each CC address through nymserver.


<p class="column8">
        If you have enabled Nymserver's message encryption(see previously),
        each message is encrypted with the Nymserver's public key before it
        is sent out from your site.


<p class="column8">
        Remember, that there is a limit in nymserver, how much mail you can
        send per day. If you're going to harrash many people with this CC
        utility, your nymserver account will be closed immediately and your
        ISP provider will be contacted and asked to shut down your active
        Internet link/account. In addition, you'll be included in many
        Internet black list very fast.


<p class="column8">
        Don't use this feature for spamming, but for good purpose.

<hr>
               <A name="general_pgp_guidelines"  id="general_pgp_guidelines"></A>
               <h1>
               8.0 General PGP guidelines
               
               </h1>



  <a name="about_including_the_public_key_in_the_mail_message" id="about_including_the_public_key_in_the_mail_message"></a>
  <h2>
      8.1 About including the public key in the mail message
      
  </h2>




<p>
<p class="column8">
        Do not distribute your public key by mail or Usenet post, because
        there are more proper ways. People generally do not want that 'you'
        send the key to them, instead they want to get it by thenself from
        some trusted channel: finger or key server. The reason for this
        should be obvious: email is not a secure channel, anyone can
        replace the contents of your mail with something other.


<p class="column8">
        Use some/all of the ways here to make your public key available:

<ul>
	<li>Put it in your ~/.plan file, so people can simply finger
            you for it. Open the ~/.plan file and just insert key there.
	            This doesn't work if your site does not allow fingering.</li>
</ul>



<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % finger foo@site.com    </PRE></TD>
    </TR>
</TABLE>

<ul>
	<li>Post it to a public-key server which in turn automatically
            distributes your key to all the other keyservers.  This is the
            most preferred way, be sure to make copy of your pubring to a
	            removable media, so that you don't loose you generated key!</li>
</ul>



<ul>
	<li>Put it on your WebPage and add let some X-header to tell
	            in the email where your web page is.
<P>


	            X-my-url: http://foo.site.com/
<P>


            This way anybody who visits your page can also get your
	            public key if he's interested.</li>
</ul>



<hr>
               <A name="development_notes"  id="development_notes"></A>
               <h1>
               9.0 Development notes
               
               </h1>



  <a name="more_about_installation" id="more_about_installation"></a>
  <h2>
      9.1 More about Installation
      
  </h2>




<p>
<p class="column8">
        Have a look at the <em class="word">example</em> setup that is also available. You can
        copy the file as it, but is does no good for you, because the setup
        is my current configuration. You have comment out some things and
        change the variables if you want use the setup.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      #URL-SITE/emacs-rc-tinypgp.ini    </PRE></TD>
    </TR>
</TABLE>



  <a name="development_note_using_comint_to_talk_to_pgp_interacively" id="development_note_using_comint_to_talk_to_pgp_interacively"></a>
  <h2>
      9.2 Development note: Using comint to talk to PGP interacively
      
  </h2>




<p>
<p class="column8">
        Some PGP commands can't be run in batch mode, so we need a live
        shell process inside emacs and through which we talk to PGP. The
        comint code used may cause troubles, because there is no good
        watchdog in the code to determine when PGP has finished outputting
        text and stopped asking for some new input. For now, the comint
        code is mainly experimental and I haven't decided if I continue
        developing it.


<p class="column8">
        One command that uses comint is 'Conventional crypting'.  This
        feature may be handy if you send some big file (tar, binary): you
        can use the conventional crypting solely for UU. Use some common
        keyword like <em class="word">test</em> and tell in the mail message:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      This file has been crypted with kwd 'test to make it UU'    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        PGP's own UUencode method <em class="word">base64</em> is not necessarily the best,
        because it splits the big file into small UU chunks...with crypt
        you can UU the whole file to one chunk


<p class="column8">
        To decypt this conventionally crypted ascii armor is no different
        than normal decrypting. Use M-x tinypgp-decrypt-region.



  <a name="about_error_we_need_to_generate_xxx_random_bits" id="about_error_we_need_to_generate_xxx_random_bits"></a>
  <h2>
      9.3 About error &quot;We need to generate XXX random bits.&quot;
      
  </h2>




<p>
<p class="column8">
        This means that PGP needs to regenerate file ~/.pgp/randseed.bin or
        some similar file. To do so, you'd encrypt some dummy file to get
        the PGP to generate the randseed.bin file again. Please switch to
        command line and run some similar command;

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % echo YourUserID &gt; list.lst
      % echo 1 | pgp -eatf -@list.lst    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Alternatively you can call this command, which does exactly the
        same as above. You may not need to call this command ever, because
        this package makes best to detect if new randseed file is needed
        and then it generates one for you.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      M-x tinypgp-do-comint-randseed    </PRE></TD>
    </TR>
</TABLE>



  <a name="about_platforms" id="about_platforms"></a>
  <h2>
      9.4 About Platforms
      
  </h2>




<p>
<p class="column8">
        My primary development platform is Unix/Emacs 19.28+ and this code
        is based on it and I don't expect any problems in newer Emacs
        versions, because no version dependent code is used.


<p class="column8">
        XEmacs support is only secondary, but I don't expect many problems
        when I start looking more into it, because I use compatibility
        functions from my libs that take care of XEmacs specific things.


<p class="column8">
        Windows95 support is not considered, mostly because it doesn't
        allow multiple comint processes that are needed here in some
        circumstances. If I have time, maybe, I can see if I can disable
        the parts of the code that uses interactive comint buffer when the
        environment is PC-based.

<hr>
               <A name="notes_problems_and_solutions_faq"  id="notes_problems_and_solutions_faq"></A>
               <h1>
               10.0 Notes, problems and solutions, FAQ
               
               </h1>



  <a name="why_are_the_nymserv_menu_choices_disabled" id="why_are_the_nymserv_menu_choices_disabled"></a>
  <h2>
      10.1 Why are the nymserv menu choices disabled?
      
  </h2>




<p>
<p class="column8">
        The nymserver is not free service and you can't use the
        commands until you have ordered one. When you have created
        the Nymserver profile, then the commands are automatically
        enabled again.



  <a name="gnus_45_i_cant_see_tinypgp_turned_on_for" id="gnus_45_i_cant_see_tinypgp_turned_on_for"></a>
  <h2>
      10.2 GNUS 4/5: I can't see TinyPgp turned on for article buffer?
      
  </h2>




<p>
<p class="column8">
        Were you already running gnus when you loaded TinyPgp? The package
        hooks itself to all relevent places during the load time. And for
        gnus the installation is done only when you call <samp class="word">M-x</samp> <samp class="word">gnus</samp>. Hm,
        but that's not the full story, you see, gnus creates buffers only
        one once, including article buffer. There is hook

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      gnus-article-mode-hook    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        where TinyPgp is installed, but that hook was run only when the
        article buffer was created. If you select new article it is not
        called.


<p class="column8">
        And this is probably the problem. You have to kill the article
        buffer and the select some new article. This forces running the
        hook for fresh article and TinyPgp should now activate too.



  <a name="rmail_error_happens_while_you_encrypt_message" id="rmail_error_happens_while_you_encrypt_message"></a>
  <h2>
      10.3 RMAIL: error happens while you encrypt message
      
  </h2>




<p>
<p class="column8">
        When you decrypt a message in RMAIL buffer, the read-only property
        must be turned off by entering <em class="word">rmail-edit-mode</em> before the
        encryption takes place. But if error happens and command can't
        complete its task, the buffer is left in <samp class="word">rmail-edit-mode</samp>.


<p class="column8">
        Be sure to press <samp class="word">C-c</samp> <samp class="word">C-c</samp> to end the <samp class="word">rmail-edit-mode</samp> before
        you continue using the RMAIL or you may accidentally modify the
        message's content.


<p class="column8">
        In normal situation the rmail-edit mode is temporarily turned on,
        encryption done, and edit mode closed, so you normally see only
        read only RMAIL buffer if all goes well.



  <a name="vm6_applicationpgpencrypted_support" id="vm6_applicationpgpencrypted_support"></a>
  <h2>
      10.4 VM6: application/pgp-encrypted support
      
  </h2>




<p>
<p class="column8">
        <span class="word-ref">[Dan Rich <EM><a href="mailto:drich@cisco.com" >drich@cisco.com</A></EM>]</span> I decided I wanted to be brave this
        afternoon and add support to VM for application/pgp-encrypted to
        VM6 using tinypgp. Here is my setup.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (defun vm-mime-display-internal-application/pgp-encrypted (layout)
        (let ((start (point))
              buffer-read-only
              end
              )
          (vm-mime-insert-mime-body layout)
          (setq end (point-marker))
          (vm-mime-transfer-decode-region layout start end)
          (tinypgp-decrypt-region
            start end
            (tinypgp-i-args-pass-phrase-decrypt)
            )
          t))    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The &quot;setq&quot; is used to add this to VM's internal content-type table,
        and the function should TinyPgp to decrypt the region when I ask VM
        to process the MIME.



  <a name="you_have_several_user_ids_which_to_use" id="you_have_several_user_ids_which_to_use"></a>
  <h2>
      10.5 You have several user id's. Which to use?
      
  </h2>




<p>
<p class="column8">
        When we call PGP to sign a mail message, it usually passes the user
        name in the command line like this:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ... -u foo    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The string &quot;foo&quot; is your active user from variable
        <samp class="word">tinypgp-:user-now</samp>.  Make sure that this variable holds sufficent
        user name, which matches only one user in the keyrings. If you have
        multiple IDs, then to prevent you from getting message

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      &quot;Wrong pass phrase...&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        set the variable to absolute key-id hex <em class="word">number</em>. Say the output of
        you secring.pgp looks like this

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % pgp -kv secring.pgp
      sec   512/EF977A25 1996/11/14 test
      sec   512/50B18BAD 1996/11/14 foo
      sec   512/B210A4B9 1996/11/14 foo1
      sec   512/CBACBA15 1996/11/12 me
      sec   512/BBF0E225 1996/11/11 me-again    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Then if you wanted to use &quot;foo&quot; for your actions, use this

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (setq tinypgp-:user-now &quot;0x50B18BAD&quot;)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        and pgp would not confuse the &quot;foo&quot; to refer to anything else that
        might have &quot;foo&quot; string in the name.



  <a name="someone_else_has_several_user_ids_which_to_use" id="someone_else_has_several_user_ids_which_to_use"></a>
  <h2>
      10.6 Someone else has several user IDs. Which to use?
      
  </h2>




<p>
<p class="column8">
        See next section



  <a name="someones_email_address_is_not_listed_in_his_keyid" id="someones_email_address_is_not_listed_in_his_keyid"></a>
  <h2>
      10.7 Someone's email address is not listed in his key-id?
      
  </h2>




<p>
<p class="column8">
        This occasion happens quite often, because user may be mailing from
        an address that is not included in his key. Say someone's key has
        email addresses:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % pgp -fkxa foo

      Key for user ID: Foo Bar Foo.Bar@example.com
      512-bit key, key ID 47141D39, created 1996/06/03
      Also known as: Foo Bar, Italy Foo.Bar@ccr.it
      Also known as: Foo Bar, Italy Quux@domain.com
      Also known as: Foo Bar, Italy fb@workplace.some.edu    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Now suppose you get mail from him from email address that is not
        listed in this key. If you try to send encrypted mail to him to,
        the email address is used to signify his user id:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      -u fb@new.address.it    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The encrypting of mail fails, because there is no entry matching
        &quot;fb@new.address.it&quot; in your pubring. In this case you must instruct
        TinyPgp to substitutes every such address with something else:
        key-id that can be found from the keyring.


<p class="column8">
        Table <samp class="word">my-:tinypgp-email-substitution-table</samp> format is

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
       '((REGEXP . SUBST)
         (REGEXP . SUBST)
         ..
         )    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Here are some basic lisp command explanation first, so that you
        understand the exqample later.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (list x x) will simply create list (x x)
      (cons x x) will simply create cons-cell (x . x)    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        and when put like this

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (list
        (cons x x)
        (cons x x)
        )    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        it really translates to following. The more you add cons commands,
        the more the (x .x) cells are added to the list.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ( (x . x) (x . x) )    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You need the <samp class="word">list</samp> call so that the possible variables like
        <samp class="word">my-:tinypgp-jack</samp> are expanded and not inserted as literals. Here
        is full example, hope you understand it and can add similar one to
        your needs.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ;; define my own general regexps

      (setq my-:tinypgp-jack
           &quot;jack@delta.com\\|jarkr@doodle\\|jack.Donner@xx.com&quot;)

      ;;  List of email addresses that are not in the person's
      ;;  pgp-key id Use the right Haand key when left hand matches.

      (defconst my-:tinypgp-email-substitution-table
      (list
       (cons &quot;edmond@.*lycaeum&quot; &quot;zzz@lycaeum.org&quot;)
       (cons my-:tinypgp-jack     &quot;yyyy@informix.com&quot;)
       (cons my-:tinypgp-peter    &quot;xxx@petium.rhein.de&quot;)
       (cons &quot;lutz.*jena.de&quot;    &quot;Dieter.DonnerWetter@Jena.Thur.De&quot;)
       (cons &quot;raph@&quot;            &quot;raph@cs.Berkeley.EDU&quot;)
       (cons &quot;rich.pieri@&quot;      &quot;Rats@ccs.neu.edu&quot;)

       ;; This one has multiple keys and we want to use one particular.
       ;; The 0xFFFF is unique way to tell which key to use

       (cons &quot;valkyr&quot;           &quot;0xA73B5E6D&quot;)
       )
      &quot;*My email substitutions that will be added to
      tinypgp-:email-substitution-table&quot;)

      ;;  Now add my substitutions

      (tinypgp-email-substitution-add my-:tinypgp-email-substitution-table)    </PRE></TD>
    </TR>
</TABLE>


<p class="column7"><em><strong>
       10.7.1 BBDB support for email substitution</strong></em>



<p class="column8">
        BBDB is a Big brother database where you can store information
        about sender of the message. To use auto action, you add
        following field to the bbdb record of the user:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp-id:    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        This behaves exactly the same way as substitution table below, but
        you set the vbalue directly to users pgp key id, like:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp-id: 0xA73B5E6D    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Or you can use email address that appears in person's pgp key:

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      pgp-id: Quux@domain.com    </PRE></TD>
    </TR>
</TABLE>


<p class="column10"><em class="quote10">
          <strong class="word">Note</strong>: The lisp way <samp class="word">tinypgp-:email-substitution-table</samp> overrides
          any definition in bbdb record.</em>




  <a name="key_add_error_bad_ascii_armor_character" id="key_add_error_bad_ascii_armor_character"></a>
  <h2>
      10.8 Key add error:  bad ascii armor character
      
  </h2>




<p>
<p class="column8">
        If you have tried to insert key from a buffer with command C-c / k
        a, <samp class="word">tinypgp-key-add-region-batch</samp>, and the command terminates with
        the following error

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      ERROR: Bad ASCII armor character, line 11.
      ERROR: Bad ASCII armor checksum
      Keyring add error.
      For a usage summary, type:  pgp -h    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        This means that the pgp key you received is invalid. Please email
        the holder of the key back and ask him to resend it. The one you
        get is corrupted and cannot e inserted to keyring.



  <a name="too_cryptic_verify_message_good_sig_from_0x00fffff" id="too_cryptic_verify_message_good_sig_from_0x00fffff"></a>
  <h2>
      10.9 Too cryptic verify message: Good sig from 0x00fffff
      
  </h2>




<p>
<p class="column8">
        Sometimes PGP just doesn't tell for whom the verified message
        belongs or for some reason when the person made the key he didn't
        put good first line in his key-id field. Examine following.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % pgp -kvc

      pub   768/F72ED579 1996/06/21 0f00bc097
            Key fingerprint = 95 BF 27 8D D8 ...
                              Foo Bar &lt;EM&gt;<a href="mailto:mr.Foo@bix.com" >mr.Foo@bix.com</a>&lt;/EM&gt;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        Notice that the first line has some cryptic message &quot;0f00bc097&quot;,
        which is also used when the Pgp displays the verify message

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Good signature from user &quot;0f00bc097&quot;    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        There may be perfectly valid reason to add this kind of string to
        the key-id field when person made the key, but you as a verifier,
        probably want to get message

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      Good signature from user Foo Bar    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        You can change the message displayed from verify function by
        letting packagae to use your custom function. See variable's
        documentation which will have ready example for cases like this.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      tinypgp-:verify-message-function    </PRE></TD>
    </TR>
</TABLE>



  <a name="how_do_i_copy_key_to_some_other_keyring" id="how_do_i_copy_key_to_some_other_keyring"></a>
  <h2>
      10.10 How do I copy key to some other keyring?
      
  </h2>




<p>
<p class="column8">
        Hopefully There will soon be key management minor mode but until
        then, do this

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      C-c / p tab     set destination (active) pubring
      C-c / k x       extract key you want to copy to buffer
                      (repeat this as many times as you want)
      C-c / k a       Add the keys in buffer    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        The deletion is similar: after copy; select one key at
        a time and delete it from keyring (not the one that you copied to)



  <a name="advanced_you_want_to_do_something_before_encrypting" id="advanced_you_want_to_do_something_before_encrypting"></a>
  <h2>
      10.11 Advanced: you want to do something before encrypting
      
  </h2>




<p>
<p class="column8">
        Say you want to run ispell on mail before the message is sent in
        possible encrypt format (see auto action). Here is piece of code to
        do that. In the function the ispell is not run if the message has
        already been encrypted.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      (add-hook 'mail-send-hook                 'my-ispell-mail)
      (add-hook 'tinypgp-:cmd-macro-before-hook   'my-ispell-mail)

      (defvar my-:mail-ispell-done nil &quot;Buffer local flag.&quot;)
      (make-variable-buffer-local 'my-:mail-ispell-done)

      (defun my-ispell-mail (&amp;optional cmd &amp;rest args)
        ;; *) We define variable my-:mail-ispell-done here
        ;;    to inform us (if we're run many times) that ispell
        ;;    has already checked the message.
        ;; *) Check that message is in clear text format
        ;; *) Check that this is mail buffer. We could be
        ;;    encrypting in regular buffer too, but we want to
        ;;    run ispell on mail buffers only
        ;; *) act only if PGP command is encrypt: run ispell
        ;;    before text gets encrypted.
        ;;    Cmd is NULL if mail-send-hook calls us.
        ;;
        (cond
         ((and (null my-:mail-ispell-done)
               (null (ti::mt-pgp-encrypted-p 'double-check))
               (ti::mt-mail-p)
               (or (null cmd)
                   (eq cmd 'encrypt))
               )
           (ispell-message)
           (setq my-:mail-ispell-done t)
           ))
         nil                ;; clean return value
         )
      ;; End    </PRE></TD>
    </TR>
</TABLE>

<hr>
               <A name="about_implementation"  id="about_implementation"></A>
               <h1>
               11.0 About implementation
               
               </h1>



  <a name="encrypted_secring" id="encrypted_secring"></a>
  <h2>
      11.1 Encrypted secring
      
  </h2>




<p>
<p class="column8">
        The secring encrypting with <samp class="word">crypt</samp> works like this.And the basic
        idea is the same if you use <samp class="word">pgp</samp> choice instead; command if a bit
        more complex and more slower.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      % crypt PASSWORD &lt; IN-FILE &gt; OUT-FILE    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        When the secring is encrypted it is stored to file pointed by
        <samp class="word">tinypgp-:file-secring-encrypted</samp> which is <samp class="word">secring.enc</samp> by default.

<P>
<TABLE class="shade-normal">
    <TR>
    <TD class="shade-normal-attrib" valign="top">
    <PRE>
      secring.pgp --&gt; password --&gt; secring.enc    </PRE></TD>
    </TR>
</TABLE>


<p class="column8">
        When you use the encrypted secring feature, program will read the
        encrypted secring to the memory so that the time spend in
        decrypting does not affect performance when you use other commands.

<ul>
	<li>open the secring.pgp to temporary file
<li>read it into temporary buffer
	</li>
<li>put contents into variable <samp class="word">tinypgp-:pgp-exe</samp> and property
	            'secring</li>
</ul>




<p class="column8">
        The secring is stored into property and not retained as an Emacs
        buffer, because there is a chance that user may enter the buffer
        and mistakenly type something in there and ruin the binary
        file. Even if the file were <em class="word">hidden</em> buffer; you could still enter
        there by accident. When the secring is stored out of emacs buffers;
        it is less likely to be modified.


<p class="column8">
        When the secring is needed for operations like decrypt and sign it
        is written to the disk from the 'secring property.

<hr>
               <A name="thank_you"  id="thank_you"></A>
               <h1>
               12.0 Thank you
               
               </h1>



  <a name="program_beta_testers_and_manual_fixes" id="program_beta_testers_and_manual_fixes"></a>
  <h2>
      12.1 Program beta testers and manual fixes
      
  </h2>




<p>
<p class="column8">
        Henk SPG <EM><a href="mailto:tank@xs4all.nl" >tank@xs4all.nl</A></EM> who had courage to take early v1.6x
        version and assist me with beta testing this package in XEmacs
        environment. I got very good feedback and good bug tracing
        assistance from him.


<p class="column8">
        Dan Rich <EM><a href="mailto:drich@cisco.com" >drich@cisco.com</A></EM> who assisted me with solving the XEmacs
        20.x incomaptibility problems. The correction cycle rolled out
        changes that caused rewiting my other packages too. In addition he
        suggested many other new features I didn't think of before. He
        cleared many problems by talking to XEmacs 20.x maintainers and if
        that's not all, he also made sure the package worked in VM. I'm
        very happy that Dan came into picture.


<p class="column8">
        Rick Flower <EM><a href="mailto:flower@ms31.sp.trw.com" >flower@ms31.sp.trw.com</A></EM> introduced me to MH-E and
        helped to track down difficulties in MH-E mail agent.


<p class="column8">
        Peter Simons <EM><a href="mailto:simons@petium.rhein.de" >simons@petium.rhein.de</A></EM> also suggested some
        improvements.


<p class="column8">
        Andrew Donkin <EM><a href="mailto:ard@scms.waikato.ac.nz" >ard@scms.waikato.ac.nz</A></EM> sent patch to fix some
        spelling mistakes in the 2.21 manual. Thank you.


<p class="column8">
        <EM><a href="mailto:hubert.fauque@wanadoo.fr" >hubert.fauque@wanadoo.fr</A></EM> Helped in testing the Pgp 5.x interface
        in Unix platform. The Pgp 5.x interface was developed in NT and
        I had no working Unix binary available for HP-UX.



  <a name="pgp_packet_format_experts" id="pgp_packet_format_experts"></a>
  <h2>
      12.2 PGP packet format experts
      
  </h2>




<p>
<p class="column8">
        When I needed help in understanding the PGP packet format and ascii
        armor these people were giving me a hand. My wholehearted thanks to
        these kind souls, without them I couldn't have enhanced TinyPgp's
        features.


<p class="column8">
        Steve Gilham <EM><a href="mailto:steveg@uk.gdscorp.com" >steveg@uk.gdscorp.com</A></EM> who explained the whole
        ascii armor and pgp data packet format with handfull of clear
        examples and providing C code.


<p class="column8">
        Jill <EM><a href="mailto:jbaker@madge.com" >jbaker@madge.com</A></EM> who had done C program to decode pgp data
        structure and showed it to me so that I could see how the decoding
        is done.


<p class="column8">
        <EM><a href="mailto:Ian.Brown@newcastle.ac.uk" >Ian.Brown@newcastle.ac.uk</A></EM> and Assar Westerlund <EM><a href="mailto:assar@sics.se" >assar@sics.se</A></EM>
        also helped me to start understanding the the pgpformat.doc



  <a name="others" id="others"></a>
  <h2>
      12.3 Others
      
  </h2>




<p>
<p class="column8">
        Thanks for Andrew N. Edmond <EM><a href="mailto:an1@anon.nymserver.com" >an1@anon.nymserver.com</A></EM>, the Nymserver
        Administrator, for providing very easy and intuitive <samp class="word">nymserver</samp>
        account and assiting me to get the nymserver support running
        smoothly. He patiently answered to my many inquiries and explained
        what error I had made if something failed. Andrew is very busy at
        managing his server software, so I greatly appreciate that he found
        so much time for me.

<hr>
               <A name="articles_and_notes_on_pgp_data_format_and_keyrings"  id="articles_and_notes_on_pgp_data_format_and_keyrings"></A>
               <h1>
               13.0 Articles and notes on PGP data format and keyrings
               
               </h1>



  <a name="multiple_keyrings_it_breaks_web_of_trust" id="multiple_keyrings_it_breaks_web_of_trust"></a>
  <h2>
      13.1 Multiple keyrings &ndash; it breaks web of trust
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          Pat McCotter <EM><a href="mailto:patm@connix.com" >patm@connix.com</A></EM> in private mail</em>



<p class="column8">
        ...I thought about multiple keyrings but this breaks down the
        web-of-trust. The only way I see this working is if the keyring
        contains only keys that are within the user's web-of-trust.



  <a name="keyring_bottlenecks" id="keyring_bottlenecks"></a>
  <h2>
      13.2 Keyring bottlenecks
      
  </h2>




<p>
<p class="column10"><em class="quote10">
          Pat McCotter <EM><a href="mailto:patm@connix.com" >patm@connix.com</A></EM> in private mail</em>



<p class="column8">
        ...The problem I have had with keyring indexing is that everything
        in PGP is so interlocked. I have to use the crypto side of PGP to
        sign/revoke/generate a key. When this is done I have to reindex. I
        can work with the addition/removal of keys from within an external
        program, but the crypto stuff that happens cannot happen through
        external means.


<p class="column8">
        This still begs the question of utilizing a key from a very large
        keyring to encrypt a file. PGP still has to go through this large
        keyring to find it and then utilize it. This is why I am looking at
        integrating the indexing somehow so that PGP just has to call the
        index procedure to get the file pointer. This is where the
        bottleneck exists in PGP.

<hr>
               <A name="pgps_ascii_armor"  id="pgps_ascii_armor"></A>
               <h1>
               14.0 PGP's Ascii Armor
               
               </h1>



  <a name="rfc1991_pgp_message_exchange_formats" id="rfc1991_pgp_message_exchange_formats"></a>
  <h2>
      14.1 RFC1991 &ndash; PGP Message Exchange Formats
      
  </h2>




<p>
<p class="column8">
        ...This memo provides information for the Internet community. This
        memo does not specify an Internet standard of any kind.
        Distribution of this memo is unlimited.



<!--    ......................................................................
    DOCUMENT END BLOCK
    ......................................................................
-->

<hr>
<em    class="footer">
<p>
Copyright &copy; 2007 by Jari Aalto. This material may be
distributed subject to the terms and conditions set forth
in the Creative commons Attribution-ShareAlike License.
See http://creativecommons.org/
<p>
This file has been automatically generated from plain text file
with Perl script <strong>t2html.pl v2007.0526</strong><br>
Document author: Jari Aalto<br>
Url: <a href="http://tiny-tools.sourceforge.net">http://tiny-tools.sourceforge.net</a><br>
Last updated: 2007-09-09 12:04<br>
</em    class="footer">
</body>
</html>
